<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Perceptual Palette</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Outfit:wght@500;600&display=swap"
    rel="stylesheet">
  <link
    href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&family=IBM+Plex+Sans:wght@600&display=swap"
    rel="stylesheet">

  <style>
    .icon-svg {
      width: 16px;
      height: 16px;
      stroke: currentColor;
      stroke-width: 2;
      /* Standard Lucide weight for better visibility */
      stroke-linecap: round;
      stroke-linejoin: round;
      fill: none;
      vertical-align: middle;
      display: inline-block;
    }
  </style>
  <script type="module" crossorigin>var a0=Object.defineProperty,d0=Object.defineProperties;var c0=Object.getOwnPropertyDescriptors;var kn=Object.getOwnPropertySymbols;var f0=Object.prototype.hasOwnProperty,u0=Object.prototype.propertyIsEnumerable;var wn=(e,t,n)=>t in e?a0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,w=(e,t)=>{for(var n in t||(t={}))f0.call(t,n)&&wn(e,n,t[n]);if(kn)for(var n of kn(t))u0.call(t,n)&&wn(e,n,t[n]);return e},_=(e,t)=>d0(e,c0(t));var h0=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var $n=(e,t,n)=>new Promise((r,o)=>{var i=a=>{try{l(n.next(a))}catch(c){o(c)}},s=a=>{try{l(n.throw(a))}catch(c){o(c)}},l=a=>a.done?r(a.value):Promise.resolve(a.value).then(i,s);l((n=n.apply(e,t)).next())});var Bi=h0(r0=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const po=(e,t)=>{if(typeof e=="number"){if(t===3)return{mode:"rgb",r:(e>>8&15|e>>4&240)/255,g:(e>>4&15|e&240)/255,b:(e&15|e<<4&240)/255};if(t===4)return{mode:"rgb",r:(e>>12&15|e>>8&240)/255,g:(e>>8&15|e>>4&240)/255,b:(e>>4&15|e&240)/255,alpha:(e&15|e<<4&240)/255};if(t===6)return{mode:"rgb",r:(e>>16&255)/255,g:(e>>8&255)/255,b:(e&255)/255};if(t===8)return{mode:"rgb",r:(e>>24&255)/255,g:(e>>16&255)/255,b:(e>>8&255)/255,alpha:(e&255)/255}}},p0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},g0=e=>po(p0[e.toLowerCase()],6),b0=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,m0=e=>{let t;return(t=e.match(b0))?po(parseInt(t[1],16),t[1].length):void 0},ee="([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)",_e=`${ee}%`,Kt=`(?:${ee}%|${ee})`,v0=`(?:${ee}(deg|grad|rad|turn)|${ee})`,pe="\\s*,\\s*",x0=new RegExp(`^rgba?\\(\\s*${ee}${pe}${ee}${pe}${ee}\\s*(?:,\\s*${Kt}\\s*)?\\)$`),y0=new RegExp(`^rgba?\\(\\s*${_e}${pe}${_e}${pe}${_e}\\s*(?:,\\s*${Kt}\\s*)?\\)$`),M0=e=>{let t={mode:"rgb"},n;if(n=e.match(x0))n[1]!==void 0&&(t.r=n[1]/255),n[2]!==void 0&&(t.g=n[2]/255),n[3]!==void 0&&(t.b=n[3]/255);else if(n=e.match(y0))n[1]!==void 0&&(t.r=n[1]/100),n[2]!==void 0&&(t.g=n[2]/100),n[3]!==void 0&&(t.b=n[3]/100);else return;return n[4]!==void 0?t.alpha=Math.max(0,Math.min(1,n[4]/100)):n[5]!==void 0&&(t.alpha=Math.max(0,Math.min(1,+n[5]))),t},k0=(e,t)=>e===void 0?void 0:typeof e!="object"?E0(e):e.mode!==void 0?e:t?_(w({},e),{mode:t}):void 0,Ue=(e="rgb")=>t=>(t=k0(t,e))!==void 0?t.mode===e?t:U[t.mode][e]?U[t.mode][e](t):e==="rgb"?U[t.mode].rgb(t):U.rgb[e](U[t.mode].rgb(t)):void 0,U={},go={},Ae=[],bo={},w0=e=>e,T=e=>(U[e.mode]=w(w({},U[e.mode]),e.toMode),Object.keys(e.fromMode||{}).forEach(t=>{U[t]||(U[t]={}),U[t][e.mode]=e.fromMode[t]}),e.ranges||(e.ranges={}),e.difference||(e.difference={}),e.channels.forEach(t=>{if(e.ranges[t]===void 0&&(e.ranges[t]=[0,1]),!e.interpolate[t])throw new Error(`Missing interpolator for: ${t}`);typeof e.interpolate[t]=="function"&&(e.interpolate[t]={use:e.interpolate[t]}),e.interpolate[t].fixup||(e.interpolate[t].fixup=w0)}),go[e.mode]=e,(e.parse||[]).forEach(t=>{$0(t,e.mode)}),Ue(e.mode)),mo=e=>go[e],$0=(e,t)=>{if(typeof e=="string"){if(!t)throw new Error("'mode' required when 'parser' is a string");bo[e]=t}else typeof e=="function"&&Ae.indexOf(e)<0&&Ae.push(e)},jt=/[^\x00-\x7F]|[a-zA-Z_]/,T0=/[^\x00-\x7F]|[-\w]/,f={Function:"function",Ident:"ident",Number:"number",Percentage:"percentage",ParenClose:")",None:"none",Hue:"hue",Alpha:"alpha"};let v=0;function Pe(e){let t=e[v],n=e[v+1];return t==="-"||t==="+"?/\d/.test(n)||n==="."&&/\d/.test(e[v+2]):t==="."?/\d/.test(n):/\d/.test(t)}function Dt(e){if(v>=e.length)return!1;let t=e[v];if(jt.test(t))return!0;if(t==="-"){if(e.length-v<2)return!1;let n=e[v+1];return!!(n==="-"||jt.test(n))}return!1}const S0={deg:1,rad:180/Math.PI,grad:9/10,turn:360};function Te(e){let t="";if((e[v]==="-"||e[v]==="+")&&(t+=e[v++]),t+=Oe(e),e[v]==="."&&/\d/.test(e[v+1])&&(t+=e[v++]+Oe(e)),(e[v]==="e"||e[v]==="E")&&((e[v+1]==="-"||e[v+1]==="+")&&/\d/.test(e[v+2])?t+=e[v++]+e[v++]+Oe(e):/\d/.test(e[v+1])&&(t+=e[v++]+Oe(e))),Dt(e)){let n=Be(e);return n==="deg"||n==="rad"||n==="turn"||n==="grad"?{type:f.Hue,value:t*S0[n]}:void 0}return e[v]==="%"?(v++,{type:f.Percentage,value:+t}):{type:f.Number,value:+t}}function Oe(e){let t="";for(;/\d/.test(e[v]);)t+=e[v++];return t}function Be(e){let t="";for(;v<e.length&&T0.test(e[v]);)t+=e[v++];return t}function _0(e){let t=Be(e);return e[v]==="("?(v++,{type:f.Function,value:t}):t==="none"?{type:f.None,value:void 0}:{type:f.Ident,value:t}}function C0(e=""){let t=e.trim(),n=[],r;for(v=0;v<t.length;){if(r=t[v++],r===`
`||r==="	"||r===" "){for(;v<t.length&&(t[v]===`
`||t[v]==="	"||t[v]===" ");)v++;continue}if(r===",")return;if(r===")"){n.push({type:f.ParenClose});continue}if(r==="+"){if(v--,Pe(t)){n.push(Te(t));continue}return}if(r==="-"){if(v--,Pe(t)){n.push(Te(t));continue}if(Dt(t)){n.push({type:f.Ident,value:Be(t)});continue}return}if(r==="."){if(v--,Pe(t)){n.push(Te(t));continue}return}if(r==="/"){for(;v<t.length&&(t[v]===`
`||t[v]==="	"||t[v]===" ");)v++;let o;if(Pe(t)&&(o=Te(t),o.type!==f.Hue)){n.push({type:f.Alpha,value:o});continue}if(Dt(t)&&Be(t)==="none"){n.push({type:f.Alpha,value:{type:f.None,value:void 0}});continue}return}if(/\d/.test(r)){v--,n.push(Te(t));continue}if(jt.test(r)){v--,n.push(_0(t));continue}return}return n}function N0(e){e._i=0;let t=e[e._i++];if(!t||t.type!==f.Function||t.value!=="color"||(t=e[e._i++],t.type!==f.Ident))return;const n=bo[t.value];if(!n)return;const r={mode:n},o=vo(e,!1);if(!o)return;const i=mo(n).channels;for(let s=0,l,a;s<i.length;s++)l=o[s],a=i[s],l.type!==f.None&&(r[a]=l.type===f.Number?l.value:l.value/100,a==="alpha"&&(r[a]=Math.max(0,Math.min(1,r[a]))));return r}function vo(e,t){const n=[];let r;for(;e._i<e.length;){if(r=e[e._i++],r.type===f.None||r.type===f.Number||r.type===f.Alpha||r.type===f.Percentage||t&&r.type===f.Hue){n.push(r);continue}if(r.type===f.ParenClose){if(e._i<e.length)return;continue}return}if(!(n.length<3||n.length>4)){if(n.length===4){if(n[3].type!==f.Alpha)return;n[3]=n[3].value}return n.length===3&&n.push({type:f.None,value:void 0}),n.every(o=>o.type!==f.Alpha)?n:void 0}}function z0(e,t){e._i=0;let n=e[e._i++];if(!n||n.type!==f.Function)return;let r=vo(e,t);if(r)return r.unshift(n.value),r}const E0=e=>{if(typeof e!="string")return;const t=C0(e),n=t?z0(t,!0):void 0;let r,o=0,i=Ae.length;for(;o<i;)if((r=Ae[o++](e,n))!==void 0)return r;return t?N0(t):void 0};function H0(e,t){if(!t||t[0]!=="rgb"&&t[0]!=="rgba")return;const n={mode:"rgb"},[,r,o,i,s]=t;if(!(r.type===f.Hue||o.type===f.Hue||i.type===f.Hue))return r.type!==f.None&&(n.r=r.type===f.Number?r.value/255:r.value/100),o.type!==f.None&&(n.g=o.type===f.Number?o.value/255:o.value/100),i.type!==f.None&&(n.b=i.type===f.Number?i.value/255:i.value/100),s.type!==f.None&&(n.alpha=Math.min(1,Math.max(0,s.type===f.Number?s.value:s.value/100))),n}const I0=e=>e==="transparent"?{mode:"rgb",r:0,g:0,b:0,alpha:0}:void 0,L0=(e,t,n)=>e+n*(t-e),P0=e=>{let t=[];for(let n=0;n<e.length-1;n++){let r=e[n],o=e[n+1];r===void 0&&o===void 0?t.push(void 0):r!==void 0&&o!==void 0?t.push([r,o]):t.push(r!==void 0?[r,r]:[o,o])}return t},O0=e=>t=>{let n=P0(t);return r=>{let o=r*n.length,i=r>=1?n.length-1:Math.max(Math.floor(o),0),s=n[i];return s===void 0?void 0:e(s[0],s[1],o-i)}},p=O0(L0),z=e=>{let t=!1,n=e.map(r=>r!==void 0?(t=!0,r):1);return t?n:e},ye={mode:"rgb",channels:["r","g","b","alpha"],parse:[H0,m0,M0,g0,I0,"srgb"],serialize:"srgb",interpolate:{r:p,g:p,b:p,alpha:{use:p,fixup:z}},gamut:!0,white:{r:1,g:1,b:1},black:{r:0,g:0,b:0}},pt=(e=0)=>Math.pow(Math.abs(e),563/256)*Math.sign(e),Tn=e=>{let t=pt(e.r),n=pt(e.g),r=pt(e.b),o={mode:"xyz65",x:.5766690429101305*t+.1855582379065463*n+.1882286462349947*r,y:.297344975250536*t+.6273635662554661*n+.0752914584939979*r,z:.0270313613864123*t+.0706888525358272*n+.9913375368376386*r};return e.alpha!==void 0&&(o.alpha=e.alpha),o},gt=e=>Math.pow(Math.abs(e),256/563)*Math.sign(e),Sn=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o={mode:"a98",r:gt(e*2.0415879038107465-t*.5650069742788597-.3447313507783297*n),g:gt(e*-.9692436362808798+t*1.8759675015077206+.0415550574071756*n),b:gt(e*.0134442806320312-t*.1183623922310184+1.0151749943912058*n)};return r!==void 0&&(o.alpha=r),o},bt=(e=0)=>{const t=Math.abs(e);return t<=.04045?e/12.92:(Math.sign(e)||1)*Math.pow((t+.055)/1.055,2.4)},Me=({r:e,g:t,b:n,alpha:r})=>{let o={mode:"lrgb",r:bt(e),g:bt(t),b:bt(n)};return r!==void 0&&(o.alpha=r),o},ce=e=>{let{r:t,g:n,b:r,alpha:o}=Me(e),i={mode:"xyz65",x:.4123907992659593*t+.357584339383878*n+.1804807884018343*r,y:.2126390058715102*t+.715168678767756*n+.0721923153607337*r,z:.0193308187155918*t+.119194779794626*n+.9505321522496607*r};return o!==void 0&&(i.alpha=o),i},mt=(e=0)=>{const t=Math.abs(e);return t>.0031308?(Math.sign(e)||1)*(1.055*Math.pow(t,1/2.4)-.055):e*12.92},ke=({r:e,g:t,b:n,alpha:r},o="rgb")=>{let i={mode:o,r:mt(e),g:mt(t),b:mt(n)};return r!==void 0&&(i.alpha=r),i},fe=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=ke({r:e*3.2409699419045226-t*1.537383177570094-.4986107602930034*n,g:e*-.9692436362808796+t*1.8759675015077204+.0415550574071756*n,b:e*.0556300796969936-t*.2039769588889765+1.0569715142428784*n});return r!==void 0&&(o.alpha=r),o},R0=_(w({},ye),{mode:"a98",parse:["a98-rgb"],serialize:"a98-rgb",fromMode:{rgb:e=>Sn(ce(e)),xyz65:Sn},toMode:{rgb:e=>fe(Tn(e)),xyz65:Tn}}),R=e=>(e=e%360)<0?e+360:e,A0=(e,t)=>e.map((n,r,o)=>{if(n===void 0)return n;let i=R(n);return r===0||e[r-1]===void 0?i:t(i-R(o[r-1]))}).reduce((n,r)=>!n.length||r===void 0||n[n.length-1]===void 0?(n.push(r),n):(n.push(r+n[n.length-1]),n),[]),K=e=>A0(e,t=>Math.abs(t)<=180?t:t-360*Math.sign(t)),H=[-.14861,1.78277,-.29227,-.90649,1.97294,0],B0=Math.PI/180,q0=180/Math.PI;let _n=H[3]*H[4],Cn=H[1]*H[4],Nn=H[1]*H[2]-H[0]*H[3];const V0=({r:e,g:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=(Nn*n+e*_n-t*Cn)/(Nn+_n-Cn),i=n-o,s=(H[4]*(t-o)-H[2]*i)/H[3],l={mode:"cubehelix",l:o,s:o===0||o===1?void 0:Math.sqrt(i*i+s*s)/(H[4]*o*(1-o))};return l.s&&(l.h=Math.atan2(s,i)*q0-120),r!==void 0&&(l.alpha=r),l},F0=({h:e,s:t,l:n,alpha:r})=>{let o={mode:"rgb"};e=(e===void 0?0:e+120)*B0,n===void 0&&(n=0);let i=t===void 0?0:t*n*(1-n),s=Math.cos(e),l=Math.sin(e);return o.r=n+i*(H[0]*s+H[1]*l),o.g=n+i*(H[2]*s+H[3]*l),o.b=n+i*(H[4]*s+H[5]*l),r!==void 0&&(o.alpha=r),o},Ye=(e,t)=>{if(e.h===void 0||t.h===void 0||!e.s||!t.s)return 0;let n=R(e.h),r=R(t.h),o=Math.sin((r-n+360)/2*Math.PI/180);return 2*Math.sqrt(e.s*t.s)*o},X0=(e,t)=>{if(e.h===void 0||t.h===void 0)return 0;let n=R(e.h),r=R(t.h);return Math.abs(r-n)>180?n-(r-360*Math.sign(r-n)):r-n},We=(e,t)=>{if(e.h===void 0||t.h===void 0||!e.c||!t.c)return 0;let n=R(e.h),r=R(t.h),o=Math.sin((r-n+360)/2*Math.PI/180);return 2*Math.sqrt(e.c*t.c)*o},Q=e=>{let t=e.reduce((r,o)=>{if(o!==void 0){let i=o*Math.PI/180;r.sin+=Math.sin(i),r.cos+=Math.cos(i)}return r},{sin:0,cos:0}),n=Math.atan2(t.sin,t.cos)*180/Math.PI;return n<0?360+n:n},j0={mode:"cubehelix",channels:["h","s","l","alpha"],parse:["--cubehelix"],serialize:"--cubehelix",ranges:{h:[0,360],s:[0,4.614],l:[0,1]},fromMode:{rgb:V0},toMode:{rgb:F0},interpolate:{h:{use:p,fixup:K},s:p,l:p,alpha:{use:p,fixup:z}},difference:{h:Ye},average:{h:Q}},ie=({l:e,a:t,b:n,alpha:r},o="lch")=>{t===void 0&&(t=0),n===void 0&&(n=0);let i=Math.sqrt(t*t+n*n),s={mode:o,l:e,c:i};return i&&(s.h=R(Math.atan2(n,t)*180/Math.PI)),r!==void 0&&(s.alpha=r),s},se=({l:e,c:t,h:n,alpha:r},o="lab")=>{n===void 0&&(n=0);let i={mode:o,l:e,a:t?t*Math.cos(n/180*Math.PI):0,b:t?t*Math.sin(n/180*Math.PI):0};return r!==void 0&&(i.alpha=r),i},xo=Math.pow(29,3)/Math.pow(3,3),yo=Math.pow(6,3)/Math.pow(29,3),N={X:.3457/.3585,Y:1,Z:(1-.3457-.3585)/.3585},ue={X:.3127/.329,Y:1,Z:(1-.3127-.329)/.329};let vt=e=>Math.pow(e,3)>yo?Math.pow(e,3):(116*e-16)/xo;const Mo=({l:e,a:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=(e+16)/116,i=t/500+o,s=o-n/200,l={mode:"xyz65",x:vt(i)*ue.X,y:vt(o)*ue.Y,z:vt(s)*ue.Z};return r!==void 0&&(l.alpha=r),l},Ze=e=>fe(Mo(e)),xt=e=>e>yo?Math.cbrt(e):(xo*e+16)/116,ko=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=xt(e/ue.X),i=xt(t/ue.Y),s=xt(n/ue.Z),l={mode:"lab65",l:116*i-16,a:500*(o-i),b:200*(i-s)};return r!==void 0&&(l.alpha=r),l},Je=e=>{let t=ko(ce(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},qe=1,wo=1,Ce=26/180*Math.PI,Ve=Math.cos(Ce),Fe=Math.sin(Ce),$o=100/Math.log(139/100),Gt=({l:e,c:t,h:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o={mode:"lab65",l:(Math.exp(e*qe/$o)-1)/.0039},i=(Math.exp(.0435*t*wo*qe)-1)/.075,s=i*Math.cos(n/180*Math.PI-Ce),l=i*Math.sin(n/180*Math.PI-Ce);return o.a=s*Ve-l/.83*Fe,o.b=s*Fe+l/.83*Ve,r!==void 0&&(o.alpha=r),o},Ut=({l:e,a:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=t*Ve+n*Fe,i=.83*(n*Ve-t*Fe),s=Math.sqrt(o*o+i*i),l={mode:"dlch",l:$o/qe*Math.log(1+.0039*e),c:Math.log(1+.075*s)/(.0435*wo*qe)};return l.c&&(l.h=R((Math.atan2(i,o)+Ce)/Math.PI*180)),r!==void 0&&(l.alpha=r),l},zn=e=>Gt(ie(e,"dlch")),En=e=>se(Ut(e),"dlab"),D0={mode:"dlab",parse:["--din99o-lab"],serialize:"--din99o-lab",toMode:{lab65:zn,rgb:e=>Ze(zn(e))},fromMode:{lab65:En,rgb:e=>En(Je(e))},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-40.09,45.501],b:[-40.469,44.344]},interpolate:{l:p,a:p,b:p,alpha:{use:p,fixup:z}}},G0={mode:"dlch",parse:["--din99o-lch"],serialize:"--din99o-lch",toMode:{lab65:Gt,dlab:e=>se(e,"dlab"),rgb:e=>Ze(Gt(e))},fromMode:{lab65:Ut,dlab:e=>ie(e,"dlch"),rgb:e=>Ut(Je(e))},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,51.484],h:[0,360]},interpolate:{l:p,c:p,h:{use:p,fixup:K},alpha:{use:p,fixup:z}},difference:{h:We},average:{h:Q}};function U0({h:e,s:t,i:n,alpha:r}){e=R(e!==void 0?e:0),t===void 0&&(t=0),n===void 0&&(n=0);let o=Math.abs(e/60%2-1),i;switch(Math.floor(e/60)){case 0:i={r:n*(1+t*(3/(2-o)-1)),g:n*(1+t*(3*(1-o)/(2-o)-1)),b:n*(1-t)};break;case 1:i={r:n*(1+t*(3*(1-o)/(2-o)-1)),g:n*(1+t*(3/(2-o)-1)),b:n*(1-t)};break;case 2:i={r:n*(1-t),g:n*(1+t*(3/(2-o)-1)),b:n*(1+t*(3*(1-o)/(2-o)-1))};break;case 3:i={r:n*(1-t),g:n*(1+t*(3*(1-o)/(2-o)-1)),b:n*(1+t*(3/(2-o)-1))};break;case 4:i={r:n*(1+t*(3*(1-o)/(2-o)-1)),g:n*(1-t),b:n*(1+t*(3/(2-o)-1))};break;case 5:i={r:n*(1+t*(3/(2-o)-1)),g:n*(1-t),b:n*(1+t*(3*(1-o)/(2-o)-1))};break;default:i={r:n*(1-t),g:n*(1-t),b:n*(1-t)}}return i.mode="rgb",r!==void 0&&(i.alpha=r),i}function Y0({r:e,g:t,b:n,alpha:r}){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=Math.max(e,t,n),i=Math.min(e,t,n),s={mode:"hsi",s:e+t+n===0?0:1-3*i/(e+t+n),i:(e+t+n)/3};return o-i!==0&&(s.h=(o===e?(t-n)/(o-i)+(t<n)*6:o===t?(n-e)/(o-i)+2:(e-t)/(o-i)+4)*60),r!==void 0&&(s.alpha=r),s}const W0={mode:"hsi",toMode:{rgb:U0},parse:["--hsi"],serialize:"--hsi",fromMode:{rgb:Y0},channels:["h","s","i","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:p,fixup:K},s:p,i:p,alpha:{use:p,fixup:z}},difference:{h:Ye},average:{h:Q}};function Z0({h:e,s:t,l:n,alpha:r}){e=R(e!==void 0?e:0),t===void 0&&(t=0),n===void 0&&(n=0);let o=n+t*(n<.5?n:1-n),i=o-(o-n)*2*Math.abs(e/60%2-1),s;switch(Math.floor(e/60)){case 0:s={r:o,g:i,b:2*n-o};break;case 1:s={r:i,g:o,b:2*n-o};break;case 2:s={r:2*n-o,g:o,b:i};break;case 3:s={r:2*n-o,g:i,b:o};break;case 4:s={r:i,g:2*n-o,b:o};break;case 5:s={r:o,g:2*n-o,b:i};break;default:s={r:2*n-o,g:2*n-o,b:2*n-o}}return s.mode="rgb",r!==void 0&&(s.alpha=r),s}function J0({r:e,g:t,b:n,alpha:r}){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=Math.max(e,t,n),i=Math.min(e,t,n),s={mode:"hsl",s:o===i?0:(o-i)/(1-Math.abs(o+i-1)),l:.5*(o+i)};return o-i!==0&&(s.h=(o===e?(t-n)/(o-i)+(t<n)*6:o===t?(n-e)/(o-i)+2:(e-t)/(o-i)+4)*60),r!==void 0&&(s.alpha=r),s}const K0=(e,t)=>{switch(t){case"deg":return+e;case"rad":return e/Math.PI*180;case"grad":return e/10*9;case"turn":return e*360}},Q0=new RegExp(`^hsla?\\(\\s*${v0}${pe}${_e}${pe}${_e}\\s*(?:,\\s*${Kt}\\s*)?\\)$`),er=e=>{let t=e.match(Q0);if(!t)return;let n={mode:"hsl"};return t[3]!==void 0?n.h=+t[3]:t[1]!==void 0&&t[2]!==void 0&&(n.h=K0(t[1],t[2])),t[4]!==void 0&&(n.s=Math.min(Math.max(0,t[4]/100),1)),t[5]!==void 0&&(n.l=Math.min(Math.max(0,t[5]/100),1)),t[6]!==void 0?n.alpha=Math.max(0,Math.min(1,t[6]/100)):t[7]!==void 0&&(n.alpha=Math.max(0,Math.min(1,+t[7]))),n};function tr(e,t){if(!t||t[0]!=="hsl"&&t[0]!=="hsla")return;const n={mode:"hsl"},[,r,o,i,s]=t;if(r.type!==f.None){if(r.type===f.Percentage)return;n.h=r.value}if(o.type!==f.None){if(o.type===f.Hue)return;n.s=o.value/100}if(i.type!==f.None){if(i.type===f.Hue)return;n.l=i.value/100}return s.type!==f.None&&(n.alpha=Math.min(1,Math.max(0,s.type===f.Number?s.value:s.value/100))),n}const To={mode:"hsl",toMode:{rgb:Z0},fromMode:{rgb:J0},channels:["h","s","l","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[tr,er],serialize:e=>`hsl(${e.h!==void 0?e.h:"none"} ${e.s!==void 0?e.s*100+"%":"none"} ${e.l!==void 0?e.l*100+"%":"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:p,fixup:K},s:p,l:p,alpha:{use:p,fixup:z}},difference:{h:Ye},average:{h:Q}};function So({h:e,s:t,v:n,alpha:r}){e=R(e!==void 0?e:0),t===void 0&&(t=0),n===void 0&&(n=0);let o=Math.abs(e/60%2-1),i;switch(Math.floor(e/60)){case 0:i={r:n,g:n*(1-t*o),b:n*(1-t)};break;case 1:i={r:n*(1-t*o),g:n,b:n*(1-t)};break;case 2:i={r:n*(1-t),g:n,b:n*(1-t*o)};break;case 3:i={r:n*(1-t),g:n*(1-t*o),b:n};break;case 4:i={r:n*(1-t*o),g:n*(1-t),b:n};break;case 5:i={r:n,g:n*(1-t),b:n*(1-t*o)};break;default:i={r:n*(1-t),g:n*(1-t),b:n*(1-t)}}return i.mode="rgb",r!==void 0&&(i.alpha=r),i}function _o({r:e,g:t,b:n,alpha:r}){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=Math.max(e,t,n),i=Math.min(e,t,n),s={mode:"hsv",s:o===0?0:1-i/o,v:o};return o-i!==0&&(s.h=(o===e?(t-n)/(o-i)+(t<n)*6:o===t?(n-e)/(o-i)+2:(e-t)/(o-i)+4)*60),r!==void 0&&(s.alpha=r),s}const Co={mode:"hsv",toMode:{rgb:So},parse:["--hsv"],serialize:"--hsv",fromMode:{rgb:_o},channels:["h","s","v","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:p,fixup:K},s:p,v:p,alpha:{use:p,fixup:z}},difference:{h:Ye},average:{h:Q}};function nr({h:e,w:t,b:n,alpha:r}){if(t===void 0&&(t=0),n===void 0&&(n=0),t+n>1){let o=t+n;t/=o,n/=o}return So({h:e,s:n===1?1:1-t/(1-n),v:1-n,alpha:r})}function or(e){let t=_o(e);if(t===void 0)return;let n=t.s!==void 0?t.s:0,r=t.v!==void 0?t.v:0,o={mode:"hwb",w:(1-n)*r,b:1-r};return t.h!==void 0&&(o.h=t.h),t.alpha!==void 0&&(o.alpha=t.alpha),o}function rr(e,t){if(!t||t[0]!=="hwb")return;const n={mode:"hwb"},[,r,o,i,s]=t;if(r.type!==f.None){if(r.type===f.Percentage)return;n.h=r.value}if(o.type!==f.None){if(o.type===f.Hue)return;n.w=o.value/100}if(i.type!==f.None){if(i.type===f.Hue)return;n.b=i.value/100}return s.type!==f.None&&(n.alpha=Math.min(1,Math.max(0,s.type===f.Number?s.value:s.value/100))),n}const ir={mode:"hwb",toMode:{rgb:nr},fromMode:{rgb:or},channels:["h","w","b","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[rr],serialize:e=>`hwb(${e.h!==void 0?e.h:"none"} ${e.w!==void 0?e.w*100+"%":"none"} ${e.b!==void 0?e.b*100+"%":"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:p,fixup:K},w:p,b:p,alpha:{use:p,fixup:z}},difference:{h:X0},average:{h:Q}},No=203,Ke=.1593017578125,zo=78.84375,Qe=.8359375,et=18.8515625,tt=18.6875;function yt(e){if(e<0)return 0;const t=Math.pow(e,1/zo);return 1e4*Math.pow(Math.max(0,t-Qe)/(et-tt*t),1/Ke)}function Mt(e){if(e<0)return 0;const t=Math.pow(e/1e4,Ke);return Math.pow((Qe+et*t)/(1+tt*t),zo)}const kt=e=>Math.max(e/No,0),Hn=({i:e,t,p:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);const o=yt(e+.008609037037932761*t+.11102962500302593*n),i=yt(e-.00860903703793275*t-.11102962500302599*n),s=yt(e+.5600313357106791*t-.32062717498731885*n),l={mode:"xyz65",x:kt(2.070152218389422*o-1.3263473389671556*i+.2066510476294051*s),y:kt(.3647385209748074*o+.680566024947227*i-.0453045459220346*s),z:kt(-.049747207535812*o-.0492609666966138*i+1.1880659249923042*s)};return r!==void 0&&(l.alpha=r),l},wt=(e=0)=>Math.max(e*No,0),In=({x:e,y:t,z:n,alpha:r})=>{const o=wt(e),i=wt(t),s=wt(n),l=Mt(.3592832590121217*o+.6976051147779502*i-.0358915932320289*s),a=Mt(-.1920808463704995*o+1.1004767970374323*i+.0753748658519118*s),c=Mt(.0070797844607477*o+.0748396662186366*i+.8433265453898765*s),u=.5*l+.5*a,h=1.61376953125*l-3.323486328125*a+1.709716796875*c,g=4.378173828125*l-4.24560546875*a-.132568359375*c,m={mode:"itp",i:u,t:h,p:g};return r!==void 0&&(m.alpha=r),m},sr={mode:"itp",channels:["i","t","p","alpha"],parse:["--ictcp"],serialize:"--ictcp",toMode:{xyz65:Hn,rgb:e=>fe(Hn(e))},fromMode:{xyz65:In,rgb:e=>In(ce(e))},ranges:{i:[0,.581],t:[-.369,.272],p:[-.164,.331]},interpolate:{i:p,t:p,p,alpha:{use:p,fixup:z}}},lr=134.03437499999998,ar=16295499532821565e-27,$t=e=>{if(e<0)return 0;let t=Math.pow(e/1e4,Ke);return Math.pow((Qe+et*t)/(1+tt*t),lr)},Tt=(e=0)=>Math.max(e*203,0),Eo=({x:e,y:t,z:n,alpha:r})=>{e=Tt(e),t=Tt(t),n=Tt(n);let o=1.15*e-.15*n,i=.66*t+.34*e,s=$t(.41478972*o+.579999*i+.014648*n),l=$t(-.20151*o+1.120649*i+.0531008*n),a=$t(-.0166008*o+.2648*i+.6684799*n),c=(s+l)/2,u={mode:"jab",j:.44*c/(1-.56*c)-ar,a:3.524*s-4.066708*l+.542708*a,b:.199076*s+1.096799*l-1.295875*a};return r!==void 0&&(u.alpha=r),u},dr=134.03437499999998,Ln=16295499532821565e-27,St=e=>{if(e<0)return 0;let t=Math.pow(e,1/dr);return 1e4*Math.pow((Qe-t)/(tt*t-et),1/Ke)},_t=e=>e/203,Ho=({j:e,a:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=(e+Ln)/(.44+.56*(e+Ln)),i=St(o+.13860504*t+.058047316*n),s=St(o-.13860504*t-.058047316*n),l=St(o-.096019242*t-.8118919*n),a={mode:"xyz65",x:_t(1.661373024652174*i-.914523081304348*s+.23136208173913045*l),y:_t(-.3250758611844533*i+1.571847026732543*s-.21825383453227928*l),z:_t(-.090982811*i-.31272829*s+1.5227666*l)};return r!==void 0&&(a.alpha=r),a},Io=e=>{let t=Eo(ce(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},Lo=e=>fe(Ho(e)),cr={mode:"jab",channels:["j","a","b","alpha"],parse:["--jzazbz"],serialize:"--jzazbz",fromMode:{rgb:Io,xyz65:Eo},toMode:{rgb:Lo,xyz65:Ho},ranges:{j:[0,.222],a:[-.109,.129],b:[-.185,.134]},interpolate:{j:p,a:p,b:p,alpha:{use:p,fixup:z}}},Pn=({j:e,a:t,b:n,alpha:r})=>{t===void 0&&(t=0),n===void 0&&(n=0);let o=Math.sqrt(t*t+n*n),i={mode:"jch",j:e,c:o};return o&&(i.h=R(Math.atan2(n,t)*180/Math.PI)),r!==void 0&&(i.alpha=r),i},On=({j:e,c:t,h:n,alpha:r})=>{n===void 0&&(n=0);let o={mode:"jab",j:e,a:t?t*Math.cos(n/180*Math.PI):0,b:t?t*Math.sin(n/180*Math.PI):0};return r!==void 0&&(o.alpha=r),o},fr={mode:"jch",parse:["--jzczhz"],serialize:"--jzczhz",toMode:{jab:On,rgb:e=>Lo(On(e))},fromMode:{rgb:e=>Pn(Io(e)),jab:Pn},channels:["j","c","h","alpha"],ranges:{j:[0,.221],c:[0,.19],h:[0,360]},interpolate:{h:{use:p,fixup:K},c:p,j:p,alpha:{use:p,fixup:z}},difference:{h:We},average:{h:Q}},nt=Math.pow(29,3)/Math.pow(3,3),Qt=Math.pow(6,3)/Math.pow(29,3);let Ct=e=>Math.pow(e,3)>Qt?Math.pow(e,3):(116*e-16)/nt;const en=({l:e,a:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=(e+16)/116,i=t/500+o,s=o-n/200,l={mode:"xyz50",x:Ct(i)*N.X,y:Ct(o)*N.Y,z:Ct(s)*N.Z};return r!==void 0&&(l.alpha=r),l},ze=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=ke({r:e*3.1341359569958707-t*1.6173863321612538-.4906619460083532*n,g:e*-.978795502912089+t*1.916254567259524+.03344273116131949*n,b:e*.07195537988411677-t*.2289768264158322+1.405386058324125*n});return r!==void 0&&(o.alpha=r),o},Po=e=>ze(en(e)),Ee=e=>{let{r:t,g:n,b:r,alpha:o}=Me(e),i={mode:"xyz50",x:.436065742824811*t+.3851514688337912*n+.14307845442264197*r,y:.22249319175623702*t+.7168870538238823*n+.06061979053616537*r,z:.013923904500943465*t+.09708128566574634*n+.7140993584005155*r};return o!==void 0&&(i.alpha=o),i},Nt=e=>e>Qt?Math.cbrt(e):(nt*e+16)/116,tn=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=Nt(e/N.X),i=Nt(t/N.Y),s=Nt(n/N.Z),l={mode:"lab",l:116*i-16,a:500*(o-i),b:200*(i-s)};return r!==void 0&&(l.alpha=r),l},Oo=e=>{let t=tn(Ee(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t};function ur(e,t){if(!t||t[0]!=="lab")return;const n={mode:"lab"},[,r,o,i,s]=t;if(!(r.type===f.Hue||o.type===f.Hue||i.type===f.Hue))return r.type!==f.None&&(n.l=Math.min(Math.max(0,r.value),100)),o.type!==f.None&&(n.a=o.type===f.Number?o.value:o.value*125/100),i.type!==f.None&&(n.b=i.type===f.Number?i.value:i.value*125/100),s.type!==f.None&&(n.alpha=Math.min(1,Math.max(0,s.type===f.Number?s.value:s.value/100))),n}const nn={mode:"lab",toMode:{xyz50:en,rgb:Po},fromMode:{xyz50:tn,rgb:Oo},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-125,125],b:[-125,125]},parse:[ur],serialize:e=>`lab(${e.l!==void 0?e.l:"none"} ${e.a!==void 0?e.a:"none"} ${e.b!==void 0?e.b:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{l:p,a:p,b:p,alpha:{use:p,fixup:z}}},hr=_(w({},nn),{mode:"lab65",parse:["--lab-d65"],serialize:"--lab-d65",toMode:{xyz65:Mo,rgb:Ze},fromMode:{xyz65:ko,rgb:Je},ranges:{l:[0,100],a:[-125,125],b:[-125,125]}});function pr(e,t){if(!t||t[0]!=="lch")return;const n={mode:"lch"},[,r,o,i,s]=t;if(r.type!==f.None){if(r.type===f.Hue)return;n.l=Math.min(Math.max(0,r.value),100)}if(o.type!==f.None&&(n.c=Math.max(0,o.type===f.Number?o.value:o.value*150/100)),i.type!==f.None){if(i.type===f.Percentage)return;n.h=i.value}return s.type!==f.None&&(n.alpha=Math.min(1,Math.max(0,s.type===f.Number?s.value:s.value/100))),n}const on={mode:"lch",toMode:{lab:se,rgb:e=>Po(se(e))},fromMode:{rgb:e=>ie(Oo(e)),lab:ie},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,150],h:[0,360]},parse:[pr],serialize:e=>`lch(${e.l!==void 0?e.l:"none"} ${e.c!==void 0?e.c:"none"} ${e.h!==void 0?e.h:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:p,fixup:K},c:p,l:p,alpha:{use:p,fixup:z}},difference:{h:We},average:{h:Q}},gr=_(w({},on),{mode:"lch65",parse:["--lch-d65"],serialize:"--lch-d65",toMode:{lab65:e=>se(e,"lab65"),rgb:e=>Ze(se(e,"lab65"))},fromMode:{rgb:e=>ie(Je(e),"lch65"),lab65:e=>ie(e,"lch65")},ranges:{l:[0,100],c:[0,150],h:[0,360]}}),Ro=({l:e,u:t,v:n,alpha:r})=>{t===void 0&&(t=0),n===void 0&&(n=0);let o=Math.sqrt(t*t+n*n),i={mode:"lchuv",l:e,c:o};return o&&(i.h=R(Math.atan2(n,t)*180/Math.PI)),r!==void 0&&(i.alpha=r),i},Ao=({l:e,c:t,h:n,alpha:r})=>{n===void 0&&(n=0);let o={mode:"luv",l:e,u:t?t*Math.cos(n/180*Math.PI):0,v:t?t*Math.sin(n/180*Math.PI):0};return r!==void 0&&(o.alpha=r),o},Bo=(e,t,n)=>4*e/(e+15*t+3*n),qo=(e,t,n)=>9*t/(e+15*t+3*n),br=Bo(N.X,N.Y,N.Z),mr=qo(N.X,N.Y,N.Z),vr=e=>e<=Qt?nt*e:116*Math.cbrt(e)-16,Yt=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=vr(t/N.Y),i=Bo(e,t,n),s=qo(e,t,n);!isFinite(i)||!isFinite(s)?o=i=s=0:(i=13*o*(i-br),s=13*o*(s-mr));let l={mode:"luv",l:o,u:i,v:s};return r!==void 0&&(l.alpha=r),l},xr=(e,t,n)=>4*e/(e+15*t+3*n),yr=(e,t,n)=>9*t/(e+15*t+3*n),Mr=xr(N.X,N.Y,N.Z),kr=yr(N.X,N.Y,N.Z),Wt=({l:e,u:t,v:n,alpha:r})=>{if(e===void 0&&(e=0),e===0)return{mode:"xyz50",x:0,y:0,z:0};t===void 0&&(t=0),n===void 0&&(n=0);let o=t/(13*e)+Mr,i=n/(13*e)+kr,s=N.Y*(e<=8?e/nt:Math.pow((e+16)/116,3)),l=s*(9*o)/(4*i),a=s*(12-3*o-20*i)/(4*i),c={mode:"xyz50",x:l,y:s,z:a};return r!==void 0&&(c.alpha=r),c},wr=e=>Ro(Yt(Ee(e))),$r=e=>ze(Wt(Ao(e))),Tr={mode:"lchuv",toMode:{luv:Ao,rgb:$r},fromMode:{rgb:wr,luv:Ro},channels:["l","c","h","alpha"],parse:["--lchuv"],serialize:"--lchuv",ranges:{l:[0,100],c:[0,176.956],h:[0,360]},interpolate:{h:{use:p,fixup:K},c:p,l:p,alpha:{use:p,fixup:z}},difference:{h:We},average:{h:Q}},Sr=_(w({},ye),{mode:"lrgb",toMode:{rgb:ke},fromMode:{rgb:Me},parse:["srgb-linear"],serialize:"srgb-linear"}),_r={mode:"luv",toMode:{xyz50:Wt,rgb:e=>ze(Wt(e))},fromMode:{xyz50:Yt,rgb:e=>Yt(Ee(e))},channels:["l","u","v","alpha"],parse:["--luv"],serialize:"--luv",ranges:{l:[0,100],u:[-84.936,175.042],v:[-125.882,87.243]},interpolate:{l:p,u:p,v:p,alpha:{use:p,fixup:z}}},Vo=({r:e,g:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=Math.cbrt(.412221469470763*e+.5363325372617348*t+.0514459932675022*n),i=Math.cbrt(.2119034958178252*e+.6806995506452344*t+.1073969535369406*n),s=Math.cbrt(.0883024591900564*e+.2817188391361215*t+.6299787016738222*n),l={mode:"oklab",l:.210454268309314*o+.7936177747023054*i-.0040720430116193*s,a:1.9779985324311684*o-2.42859224204858*i+.450593709617411*s,b:.0259040424655478*o+.7827717124575296*i-.8086757549230774*s};return r!==void 0&&(l.alpha=r),l},ot=e=>{let t=Vo(Me(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},He=({l:e,a:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=Math.pow(e+.3963377773761749*t+.2158037573099136*n,3),i=Math.pow(e-.1055613458156586*t-.0638541728258133*n,3),s=Math.pow(e-.0894841775298119*t-1.2914855480194092*n,3),l={mode:"lrgb",r:4.076741636075957*o-3.3077115392580616*i+.2309699031821044*s,g:-1.2684379732850317*o+2.6097573492876887*i-.3413193760026573*s,b:-.0041960761386756*o-.7034186179359362*i+1.7076146940746117*s};return r!==void 0&&(l.alpha=r),l},rt=e=>ke(He(e));function Zt(e){const r=1.170873786407767;return .5*(r*e-.206+Math.sqrt((r*e-.206)*(r*e-.206)+4*.03*r*e))}function Xe(e){return(e*e+.206*e)/(1.170873786407767*(e+.03))}function Cr(e,t){let n,r,o,i,s,l,a,c;-1.88170328*e-.80936493*t>1?(n=1.19086277,r=1.76576728,o=.59662641,i=.75515197,s=.56771245,l=4.0767416621,a=-3.3077115913,c=.2309699292):1.81444104*e-1.19445276*t>1?(n=.73956515,r=-.45954404,o=.08285427,i=.1254107,s=.14503204,l=-1.2684380046,a=2.6097574011,c=-.3413193965):(n=1.35733652,r=-.00915799,o=-1.1513021,i=-.50559606,s=.00692167,l=-.0041960863,a=-.7034186147,c=1.707614701);let u=n+r*e+o*t+i*e*e+s*e*t,h=.3963377774*e+.2158037573*t,g=-.1055613458*e-.0638541728*t,m=-.0894841775*e-1.291485548*t;{let x=1+u*h,k=1+u*g,M=1+u*m,S=x*x*x,$=k*k*k,E=M*M*M,A=3*h*x*x,D=3*g*k*k,q=3*m*M*M,G=6*h*h*x,L=6*g*g*k,V=6*m*m*M,F=l*S+a*$+c*E,j=l*A+a*D+c*q,$e=l*G+a*L+c*V;u=u-F*j/(j*j-.5*F*$e)}return u}function rn(e,t){let n=Cr(e,t),r=He({l:1,a:n*e,b:n*t}),o=Math.cbrt(1/Math.max(r.r,r.g,r.b)),i=o*n;return[o,i]}function Nr(e,t,n,r,o,i=null){i||(i=rn(e,t));let s;if((n-o)*i[1]-(i[0]-o)*r<=0)s=i[1]*o/(r*i[0]+i[1]*(o-n));else{s=i[1]*(o-1)/(r*(i[0]-1)+i[1]*(o-n));{let l=n-o,a=r,c=.3963377774*e+.2158037573*t,u=-.1055613458*e-.0638541728*t,h=-.0894841775*e-1.291485548*t,g=l+a*c,m=l+a*u,x=l+a*h;{let k=o*(1-s)+s*n,M=s*r,S=k+M*c,$=k+M*u,E=k+M*h,A=S*S*S,D=$*$*$,q=E*E*E,G=3*g*S*S,L=3*m*$*$,V=3*x*E*E,F=6*g*g*S,j=6*m*m*$,$e=6*x*x*E,bn=4.0767416621*A-3.3077115913*D+.2309699292*q-1,at=4.0767416621*G-3.3077115913*L+.2309699292*V,i0=4.0767416621*F-3.3077115913*j+.2309699292*$e,mn=at/(at*at-.5*bn*i0),dt=-bn*mn,vn=-1.2684380046*A+2.6097574011*D-.3413193965*q-1,ct=-1.2684380046*G+2.6097574011*L-.3413193965*V,s0=-1.2684380046*F+2.6097574011*j-.3413193965*$e,xn=ct/(ct*ct-.5*vn*s0),ft=-vn*xn,yn=-.0041960863*A-.7034186147*D+1.707614701*q-1,ut=-.0041960863*G-.7034186147*L+1.707614701*V,l0=-.0041960863*F-.7034186147*j+1.707614701*$e,Mn=ut/(ut*ut-.5*yn*l0),ht=-yn*Mn;dt=mn>=0?dt:1e6,ft=xn>=0?ft:1e6,ht=Mn>=0?ht:1e6,s+=Math.min(dt,Math.min(ft,ht))}}}return s}function sn(e,t,n=null){n||(n=rn(e,t));let r=n[0],o=n[1];return[o/r,o/(1-r)]}function Fo(e,t,n){let r=rn(t,n),o=Nr(t,n,e,1,e,r),i=sn(t,n,r),s=.11516993+1/(7.4477897+4.1590124*n+t*(-2.19557347+1.75198401*n+t*(-2.13704948-10.02301043*n+t*(-4.24894561+5.38770819*n+4.69891013*t)))),l=.11239642+1/(1.6132032-.68124379*n+t*(.40370612+.90148123*n+t*(-.27087943+.6122399*n+t*(.00299215-.45399568*n-.14661872*t)))),a=o/Math.min(e*i[0],(1-e)*i[1]),c=e*s,u=(1-e)*l,h=.9*a*Math.sqrt(Math.sqrt(1/(1/(c*c*c*c)+1/(u*u*u*u))));return c=e*.4,u=(1-e)*.8,[Math.sqrt(1/(1/(c*c)+1/(u*u))),h,o]}function Rn(e){const t=e.l!==void 0?e.l:0,n=e.a!==void 0?e.a:0,r=e.b!==void 0?e.b:0,o={mode:"okhsl",l:Zt(t)};e.alpha!==void 0&&(o.alpha=e.alpha);let i=Math.sqrt(n*n+r*r);if(!i)return o.s=0,o;let[s,l,a]=Fo(t,n/i,r/i),c;if(i<l){let u=0,h=.8*s,g=1-h/l;c=(i-u)/(h+g*(i-u))*.8}else{let u=l,h=.2*l*l*1.25*1.25/s,g=1-h/(a-l);c=.8+.2*((i-u)/(h+g*(i-u)))}return c&&(o.s=c,o.h=R(Math.atan2(r,n)*180/Math.PI)),o}function An(e){let t=e.h!==void 0?e.h:0,n=e.s!==void 0?e.s:0,r=e.l!==void 0?e.l:0;const o={mode:"oklab",l:Xe(r)};if(e.alpha!==void 0&&(o.alpha=e.alpha),!n||r===1)return o.a=o.b=0,o;let i=Math.cos(t/180*Math.PI),s=Math.sin(t/180*Math.PI),[l,a,c]=Fo(o.l,i,s),u,h,g,m;n<.8?(u=1.25*n,h=0,g=.8*l,m=1-g/a):(u=5*(n-.8),h=a,g=.2*a*a*1.25*1.25/l,m=1-g/(c-a));let x=h+u*g/(1-m*u);return o.a=x*i,o.b=x*s,o}const zr=_(w({},To),{mode:"okhsl",channels:["h","s","l","alpha"],parse:["--okhsl"],serialize:"--okhsl",fromMode:{oklab:Rn,rgb:e=>Rn(ot(e))},toMode:{oklab:An,rgb:e=>rt(An(e))}});function Bn(e){let t=e.l!==void 0?e.l:0,n=e.a!==void 0?e.a:0,r=e.b!==void 0?e.b:0,o=Math.sqrt(n*n+r*r),i=o?n/o:1,s=o?r/o:1,[l,a]=sn(i,s),c=.5,u=1-c/l,h=a/(o+t*a),g=h*t,m=h*o,x=Xe(g),k=m*x/g,M=He({l:x,a:i*k,b:s*k}),S=Math.cbrt(1/Math.max(M.r,M.g,M.b,0));t=t/S,o=o/S*Zt(t)/t,t=Zt(t);const $={mode:"okhsv",s:o?(c+a)*m/(a*c+a*u*m):0,v:t?t/g:0};return $.s&&($.h=R(Math.atan2(r,n)*180/Math.PI)),e.alpha!==void 0&&($.alpha=e.alpha),$}function qn(e){const t={mode:"oklab"};e.alpha!==void 0&&(t.alpha=e.alpha);const n=e.h!==void 0?e.h:0,r=e.s!==void 0?e.s:0,o=e.v!==void 0?e.v:0,i=Math.cos(n/180*Math.PI),s=Math.sin(n/180*Math.PI),[l,a]=sn(i,s),c=.5,u=1-c/l,h=1-r*c/(c+a-a*u*r),g=r*a*c/(c+a-a*u*r),m=Xe(h),x=g*m/h,k=He({l:m,a:i*x,b:s*x}),M=Math.cbrt(1/Math.max(k.r,k.g,k.b,0)),S=Xe(o*h),$=g*S/h;return t.l=S*M,t.a=$*i*M,t.b=$*s*M,t}const Er=_(w({},Co),{mode:"okhsv",channels:["h","s","v","alpha"],parse:["--okhsv"],serialize:"--okhsv",fromMode:{oklab:Bn,rgb:e=>Bn(ot(e))},toMode:{oklab:qn,rgb:e=>rt(qn(e))}});function Hr(e,t){if(!t||t[0]!=="oklab")return;const n={mode:"oklab"},[,r,o,i,s]=t;if(!(r.type===f.Hue||o.type===f.Hue||i.type===f.Hue))return r.type!==f.None&&(n.l=Math.min(Math.max(0,r.type===f.Number?r.value:r.value/100),1)),o.type!==f.None&&(n.a=o.type===f.Number?o.value:o.value*.4/100),i.type!==f.None&&(n.b=i.type===f.Number?i.value:i.value*.4/100),s.type!==f.None&&(n.alpha=Math.min(1,Math.max(0,s.type===f.Number?s.value:s.value/100))),n}const Ir=_(w({},nn),{mode:"oklab",toMode:{lrgb:He,rgb:rt},fromMode:{lrgb:Vo,rgb:ot},ranges:{l:[0,1],a:[-.4,.4],b:[-.4,.4]},parse:[Hr],serialize:e=>`oklab(${e.l!==void 0?e.l:"none"} ${e.a!==void 0?e.a:"none"} ${e.b!==void 0?e.b:"none"}${e.alpha<1?` / ${e.alpha}`:""})`});function Lr(e,t){if(!t||t[0]!=="oklch")return;const n={mode:"oklch"},[,r,o,i,s]=t;if(r.type!==f.None){if(r.type===f.Hue)return;n.l=Math.min(Math.max(0,r.type===f.Number?r.value:r.value/100),1)}if(o.type!==f.None&&(n.c=Math.max(0,o.type===f.Number?o.value:o.value*.4/100)),i.type!==f.None){if(i.type===f.Percentage)return;n.h=i.value}return s.type!==f.None&&(n.alpha=Math.min(1,Math.max(0,s.type===f.Number?s.value:s.value/100))),n}const Pr=_(w({},on),{mode:"oklch",toMode:{oklab:e=>se(e,"oklab"),rgb:e=>rt(se(e,"oklab"))},fromMode:{rgb:e=>ie(ot(e),"oklch"),oklab:e=>ie(e,"oklch")},parse:[Lr],serialize:e=>`oklch(${e.l!==void 0?e.l:"none"} ${e.c!==void 0?e.c:"none"} ${e.h!==void 0?e.h:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,ranges:{l:[0,1],c:[0,.4],h:[0,360]}}),Vn=e=>{let{r:t,g:n,b:r,alpha:o}=Me(e),i={mode:"xyz65",x:.486570948648216*t+.265667693169093*n+.1982172852343625*r,y:.2289745640697487*t+.6917385218365062*n+.079286914093745*r,z:0*t+.0451133818589026*n+1.043944368900976*r};return o!==void 0&&(i.alpha=o),i},Fn=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o=ke({r:e*2.4934969119414263-t*.9313836179191242-.402710784450717*n,g:e*-.8294889695615749+t*1.7626640603183465+.0236246858419436*n,b:e*.0358458302437845-t*.0761723892680418+.9568845240076871*n},"p3");return r!==void 0&&(o.alpha=r),o},Or=_(w({},ye),{mode:"p3",parse:["display-p3"],serialize:"display-p3",fromMode:{rgb:e=>Fn(ce(e)),xyz65:Fn},toMode:{rgb:e=>fe(Vn(e)),xyz65:Vn}}),zt=e=>{let t=Math.abs(e);return t>=1/512?Math.sign(e)*Math.pow(t,1/1.8):16*e},Xn=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o={mode:"prophoto",r:zt(e*1.3457868816471585-t*.2555720873797946-.0511018649755453*n),g:zt(e*-.5446307051249019+t*1.5082477428451466+.0205274474364214*n),b:zt(e*0+t*0+1.2119675456389452*n)};return r!==void 0&&(o.alpha=r),o},Et=(e=0)=>{let t=Math.abs(e);return t>=16/512?Math.sign(e)*Math.pow(t,1.8):e/16},jn=e=>{let t=Et(e.r),n=Et(e.g),r=Et(e.b),o={mode:"xyz50",x:.7977666449006423*t+.1351812974005331*n+.0313477341283922*r,y:.2880748288194013*t+.7118352342418731*n+899369387256e-16*r,z:0*t+0*n+.8251046025104602*r};return e.alpha!==void 0&&(o.alpha=e.alpha),o},Rr=_(w({},ye),{mode:"prophoto",parse:["prophoto-rgb"],serialize:"prophoto-rgb",fromMode:{xyz50:Xn,rgb:e=>Xn(Ee(e))},toMode:{xyz50:jn,rgb:e=>ze(jn(e))}}),Dn=1.09929682680944,Ar=.018053968510807,Ht=e=>{const t=Math.abs(e);return t>Ar?(Math.sign(e)||1)*(Dn*Math.pow(t,.45)-(Dn-1)):4.5*e},Gn=({x:e,y:t,z:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let o={mode:"rec2020",r:Ht(e*1.7166511879712683-t*.3556707837763925-.2533662813736599*n),g:Ht(e*-.6666843518324893+t*1.6164812366349395+.0157685458139111*n),b:Ht(e*.0176398574453108-t*.0427706132578085+.9421031212354739*n)};return r!==void 0&&(o.alpha=r),o},Un=1.09929682680944,Br=.018053968510807,It=(e=0)=>{let t=Math.abs(e);return t<Br*4.5?e/4.5:(Math.sign(e)||1)*Math.pow((t+Un-1)/Un,1/.45)},Yn=e=>{let t=It(e.r),n=It(e.g),r=It(e.b),o={mode:"xyz65",x:.6369580483012911*t+.1446169035862083*n+.1688809751641721*r,y:.262700212011267*t+.6779980715188708*n+.059301716469862*r,z:0*t+.0280726930490874*n+1.0609850577107909*r};return e.alpha!==void 0&&(o.alpha=e.alpha),o},qr=_(w({},ye),{mode:"rec2020",fromMode:{xyz65:Gn,rgb:e=>Gn(ce(e))},toMode:{xyz65:Yn,rgb:e=>fe(Yn(e))},parse:["rec2020"],serialize:"rec2020"}),de=.0037930732552754493,Xo=Math.cbrt(de),Lt=e=>Math.cbrt(e)-Xo,Vr=e=>{const{r:t,g:n,b:r,alpha:o}=Me(e),i=Lt(.3*t+.622*n+.078*r+de),s=Lt(.23*t+.692*n+.078*r+de),l=Lt(.2434226892454782*t+.2047674442449682*n+.5518098665095535*r+de),a={mode:"xyb",x:(i-s)/2,y:(i+s)/2,b:l-(i+s)/2};return o!==void 0&&(a.alpha=o),a},Pt=e=>Math.pow(e+Xo,3),Fr=({x:e,y:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);const o=Pt(e+t)-de,i=Pt(t-e)-de,s=Pt(n+t)-de,l=ke({r:11.031566904639861*o-9.866943908131562*i-.16462299650829934*s,g:-3.2541473810744237*o+4.418770377582723*i-.16462299650829934*s,b:-3.6588512867136815*o+2.7129230459360922*i+1.9459282407775895*s});return r!==void 0&&(l.alpha=r),l},Xr={mode:"xyb",channels:["x","y","b","alpha"],parse:["--xyb"],serialize:"--xyb",toMode:{rgb:Fr},fromMode:{rgb:Vr},ranges:{x:[-.0154,.0281],y:[0,.8453],b:[-.2778,.388]},interpolate:{x:p,y:p,b:p,alpha:{use:p,fixup:z}}},jr={mode:"xyz50",parse:["xyz-d50"],serialize:"xyz-d50",toMode:{rgb:ze,lab:tn},fromMode:{rgb:Ee,lab:en},channels:["x","y","z","alpha"],ranges:{x:[0,.964],y:[0,.999],z:[0,.825]},interpolate:{x:p,y:p,z:p,alpha:{use:p,fixup:z}}},Dr=e=>{let{x:t,y:n,z:r,alpha:o}=e;t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0);let i={mode:"xyz50",x:1.0479298208405488*t+.0229467933410191*n-.0501922295431356*r,y:.0296278156881593*t+.990434484573249*n-.0170738250293851*r,z:-.0092430581525912*t+.0150551448965779*n+.7518742899580008*r};return o!==void 0&&(i.alpha=o),i},Gr=e=>{let{x:t,y:n,z:r,alpha:o}=e;t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0);let i={mode:"xyz65",x:.9554734527042182*t-.0230985368742614*n+.0632593086610217*r,y:-.0283697069632081*t+1.0099954580058226*n+.021041398966943*r,z:.0123140016883199*t-.0205076964334779*n+1.3303659366080753*r};return o!==void 0&&(i.alpha=o),i},Ur={mode:"xyz65",toMode:{rgb:fe,xyz50:Dr},fromMode:{rgb:ce,xyz50:Gr},ranges:{x:[0,.95],y:[0,1],z:[0,1.088]},channels:["x","y","z","alpha"],parse:["xyz","xyz-d65"],serialize:"xyz-d65",interpolate:{x:p,y:p,z:p,alpha:{use:p,fixup:z}}},Yr=({r:e,g:t,b:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);const o={mode:"yiq",y:.29889531*e+.58662247*t+.11448223*n,i:.59597799*e-.2741761*t-.32180189*n,q:.21147017*e-.52261711*t+.31114694*n};return r!==void 0&&(o.alpha=r),o},Wr=({y:e,i:t,q:n,alpha:r})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);const o={mode:"rgb",r:e+.95608445*t+.6208885*n,g:e-.27137664*t-.6486059*n,b:e-1.10561724*t+1.70250126*n};return r!==void 0&&(o.alpha=r),o},Zr={mode:"yiq",toMode:{rgb:Wr},fromMode:{rgb:Yr},channels:["y","i","q","alpha"],parse:["--yiq"],serialize:"--yiq",ranges:{i:[-.595,.595],q:[-.522,.522]},interpolate:{y:p,i:p,q:p,alpha:{use:p,fixup:z}}},Jr=e=>Math.max(0,Math.min(1,e||0)),Ot=e=>Math.round(Jr(e)*255),Kr=Ue("rgb"),Qr=e=>{if(e===void 0)return;let t=Ot(e.r),n=Ot(e.g),r=Ot(e.b);return"#"+(1<<24|t<<16|n<<8|r).toString(16).slice(1)},B=e=>Qr(Kr(e)),ei=e=>e!==void 0&&(e.r===void 0||e.r>=0&&e.r<=1)&&(e.g===void 0||e.g>=0&&e.g<=1)&&(e.b===void 0||e.b>=0&&e.b<=1);function jo(e="rgb"){const{gamut:t}=mo(e);if(!t)return r=>!0;const n=Ue(typeof t=="string"?t:e);return r=>ei(n(r))}function Wn(e){let t=Ue("lrgb")(e);return .2126*t.r+.7152*t.g+.0722*t.b}function le(e,t){let n=Wn(e),r=Wn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}T(R0);T(j0);T(D0);T(G0);T(W0);const Ie=T(To),Do=T(Co);T(ir);T(sr);T(cr);T(fr);T(nn);T(hr);const ln=T(on);T(gr);T(Tr);T(Sr);T(_r);T(zr);T(Er);T(Ir);const he=T(Pr);T(Or);T(Rr);T(qr);const Ne=T(ye);T(Xr);T(jr);T(Ur);T(Zr);const ti=[100,200,300,400,500,600,700,800,900];function ni(e,t){let n=0,r=.4;for(;r-n>.001;){const o=(n+r)/2,i={mode:"oklch",l:e,c:o,h:t};jo("rgb")(i)?n=o:r=o}return n}function Go(e,t=[...ti],n=1,r={}){const i=[...t].sort((s,l)=>s-l).map(s=>{let l;s<100?l=1-s/100*.1:s<500?l=.9-(s-100)/400*.35:s===500?l=.45:s<=900?l=.4-(s-600)/300*.3:l=.1-(s-900)/100*.1,l=Math.max(0,Math.min(1,l));const u={c:ni(l,e)*Math.max(0,Math.min(1,n)),h:e};return Uo(s,l,u,r,s===500)});return i.forEach((s,l)=>{const a=i[l+1];a&&(s.contrastWithNext=le(s.hex,a.hex))}),i}function oi(e,t,n,r){const o=r==="light"?"#ffffff":"#000000";let i=0,s=1;for(let l=0;l<15;l++){const a=(i+s)/2,c=B({mode:"oklch",l:a,c:n,h:t})||"#000000",u=le(c,o);r==="light"?u>e?i=a:s=a:u>e?s=a:i=a}return(i+s)/2}function we(e){const{baseColor:t,stops:n,overrides:r,anchorStop:o=500}=e,i=he(t);if(!i)throw new Error("Invalid base color");const s={l:i.l,c:i.c||0,h:i.h||0},l=[...n].sort((h,g)=>h-g),a=1.105,c=oi(4.5,s.h,s.c,e.anchorTheme||"light"),u=l.map(h=>{const g=(h-o)/100;let m;return g===0?m=c:g<0?m=(c+.05)*Math.pow(a,Math.abs(g))-.05:m=(c+.05)/Math.pow(a,g)-.05,m=Math.max(0,Math.min(1,m)),Uo(h,m,s,r,h===o)});return u.forEach((h,g)=>{const m=u[g+1];m&&(h.contrastWithNext=le(h.hex,m.hex))}),u}function an(e){return e==="light"?"#ffffff":"#000000"}function Zn(e){const t=parseInt(e.slice(1,3),16)/255,n=parseInt(e.slice(3,5),16)/255,r=parseInt(e.slice(5,7),16)/255;return{r:t,g:n,b:r}}function ri(e){const t={mode:"rgb",r:e.r,g:e.g,b:e.b},n=Ie(t);if(!n)return"Gray";if(n.s<.2)return n.l>.96?"White":n.l<.12?"Black":"Gray";const{r,g:o,b:i}=e,s=[{name:"Red",r:1,g:0,b:0},{name:"Orange",r:1,g:.5,b:0},{name:"Yellow",r:1,g:1,b:0},{name:"Lime",r:.5,g:1,b:0},{name:"Green",r:0,g:1,b:0},{name:"Teal",r:0,g:.5,b:.5},{name:"Cyan",r:0,g:1,b:1},{name:"Blue",r:0,g:0,b:1},{name:"Indigo",r:.29,g:0,b:.51},{name:"Purple",r:.5,g:0,b:.5},{name:"Pink",r:1,g:.75,b:.8},{name:"Rose",r:1,g:0,b:.5},{name:"Gray",r:.5,g:.5,b:.5},{name:"White",r:1,g:1,b:1},{name:"Black",r:0,g:0,b:0}];let l=1/0,a="Gray";for(const c of s){const u=Math.sqrt(Math.pow(r-c.r,2)+Math.pow(o-c.g,2)+Math.pow(i-c.b,2));u<l&&(l=u,a=c.name)}return a}function ii(e){const t=w({},e);let n=0;for(;!jo("rgb")(t)&&t.c>0&&n<50;)t.c-=.005,n++;return t}function Uo(e,t,n,r,o){const i=r[e],s=n.h;let l={mode:"oklch",l:t,c:n.c,h:s};if(i){if(i.mode==="lch")i.hue!==void 0&&(l.h=i.hue),i.chroma!==void 0&&(l.c=i.chroma),i.lightness!==void 0&&(l.l=i.lightness/100);else if(i.mode==="hsl"){const u=Ie(B(l))||{h:0,s:0,l:0},h={mode:"hsl",h:i.hue!==void 0?i.hue:u.h,s:i.s!==void 0?i.s:u.s,l:i.lightness!==void 0?i.lightness:u.l},g=he(h);g&&(l={mode:"oklch",l:g.l,c:g.c,h:g.h||0})}else if(i.mode==="rgb"){const u=Ne(B(l))||{r:0,g:0,b:0},h={mode:"rgb",r:i.r!==void 0?i.r:u.r,g:i.g!==void 0?i.g:u.g,b:i.b!==void 0?i.b:u.b},g=he(h);g&&(l={mode:"oklch",l:g.l,c:g.c,h:g.h||0})}else if(i.mode==="hsb"){const u=Do(B(l))||{h:0,s:0,v:0},h={mode:"hsv",h:i.hue!==void 0?i.hue:u.h,s:i.s!==void 0?i.s:u.s,v:i.v!==void 0?i.v:u.v},g=he(h);g&&(l={mode:"oklch",l:g.l,c:g.c,h:g.h||0})}}l=ii(l);const a=B(l)||"#000000",c=ln(a);return{stop:e,hex:a,lch:{l:l.l*100,c:c?c.c:l.c*100,h:l.h},contrastWithNext:0,isAnchor:o}}function Rt(e,t){return t?(e/100).toFixed(2):`${e.toFixed(2)}:1`}const dn={BASE_COLOR_INPUT:"base-color-input",STOPS_CONTAINER:"stops-container",REFINE_MODAL:"refine-modal"};const Yo={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const Wo=([e,t,n])=>{const r=document.createElementNS("http://www.w3.org/2000/svg",e);return Object.keys(t).forEach(o=>{r.setAttribute(o,String(t[o]))}),n!=null&&n.length&&n.forEach(o=>{const i=Wo(o);r.appendChild(i)}),r},si=(e,t={})=>{const r=w(w({},Yo),t);return Wo(["svg",r,e])};const li=e=>Array.from(e.attributes).reduce((t,n)=>(t[n.name]=n.value,t),{}),ai=e=>typeof e=="string"?e:!e||!e.class?"":e.class&&typeof e.class=="string"?e.class.split(" "):e.class&&Array.isArray(e.class)?e.class:"",di=e=>e.flatMap(ai).map(n=>n.trim()).filter(Boolean).filter((n,r,o)=>o.indexOf(n)===r).join(" "),ci=e=>e.replace(/(\w)(\w*)(_|-|\s*)/g,(t,n,r)=>n.toUpperCase()+r.toLowerCase()),Jn=(e,{nameAttr:t,icons:n,attrs:r})=>{var h;const o=e.getAttribute(t);if(o==null)return;const i=ci(o),s=n[i];if(!s)return console.warn(`${e.outerHTML} icon name was not found in the provided icons object.`);const l=li(e),a=w(w(_(w({},Yo),{"data-lucide":o}),r),l),c=di(["lucide",`lucide-${o}`,l,r]);c&&Object.assign(a,{class:c});const u=si(s,a);return(h=e.parentNode)==null?void 0:h.replaceChild(u,e)};const fi=[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]];const ui=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]];const hi=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}],["path",{d:"M12 17h.01"}]];const pi=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"}]];const gi=[["path",{d:"M12 15V3"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["path",{d:"m7 10 5 5 5-5"}]];const bi=[["circle",{cx:"12",cy:"12",r:"1"}],["circle",{cx:"12",cy:"5",r:"1"}],["circle",{cx:"12",cy:"19",r:"1"}]];const mi=[["circle",{cx:"9",cy:"12",r:"1"}],["circle",{cx:"9",cy:"5",r:"1"}],["circle",{cx:"9",cy:"19",r:"1"}],["circle",{cx:"15",cy:"12",r:"1"}],["circle",{cx:"15",cy:"5",r:"1"}],["circle",{cx:"15",cy:"19",r:"1"}]];const vi=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];const xi=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor"}]];const yi=[["path",{d:"m12 9-8.414 8.414A2 2 0 0 0 3 18.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 3.828 21h1.344a2 2 0 0 0 1.414-.586L15 12"}],["path",{d:"m18 9 .4.4a1 1 0 1 1-3 3l-3.8-3.8a1 1 0 1 1 3-3l.4.4 3.4-3.4a1 1 0 1 1 3 3z"}],["path",{d:"m2 22 .414-.414"}]];const Mi=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];const ki=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}],["path",{d:"M8 16H3v5"}]];const wi=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];const $i=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];const Ti=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];const Si=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];const _i=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];const Zo=({icons:e={},nameAttr:t="data-lucide",attrs:n={},root:r=document,inTemplates:o}={})=>{if(!Object.values(e).length)throw new Error(`Please provide an icons object.
If you want to use all the icons you can import it like:
 \`import { createIcons, icons } from 'lucide';
lucide.createIcons({icons});\``);if(typeof r=="undefined")throw new Error("`createIcons()` only works in a browser environment.");if(Array.from(r.querySelectorAll(`[${t}]`)).forEach(s=>Jn(s,{nameAttr:t,icons:e,attrs:n})),o&&Array.from(r.querySelectorAll("template")).forEach(l=>Zo({icons:e,nameAttr:t,attrs:n,root:l.content,inTemplates:o})),t==="data-lucide"){const s=r.querySelectorAll("[icon-name]");s.length>0&&(console.warn("[Lucide] Some icons were found with the now deprecated icon-name attribute. These will still be replaced for backwards compatibility, but will no longer be supported in v1.0 and you should switch to data-lucide"),Array.from(s).forEach(l=>Jn(l,{nameAttr:"icon-name",icons:e,attrs:n})))}},cn=[100,200,300,400,500,600,700,800,900],fn=0,Jo={baseColor:"#9600FF",stops:[...cn],overrides:{},showOriginal:!1,anchorStop:500,paletteMode:"oklch",oklchHue:297,oklchVividness:1,theme:"light"};let d=JSON.parse(JSON.stringify(Jo)),y=null,Se=null,ge=[],je=[],Le=null,te=null,J=!1;function b(e){const t=document.getElementById(e);return t||(console.warn(`Element with id "${e}" not found.`),null)}const I=b(dn.BASE_COLOR_INPUT),O=b("base-color-picker"),At=document.getElementById("copy-anchor-hex"),Bt=document.getElementById("anchor-swatch-trigger"),P=b(dn.STOPS_CONTAINER),Y=b(dn.REFINE_MODAL),Re=b("btn-save-vars"),qt=b("btn-create-template"),Kn=b("reset-plugin"),Qn=b("hue-slider"),eo=b("chroma-slider"),to=b("hue-val"),no=b("chroma-val"),De=b("mode-legacy"),Ge=b("mode-oklch"),be=b("oklch-hue-slider"),me=b("oklch-hue-value"),ve=b("oklch-vividness-slider"),xe=b("oklch-vividness-value"),oo=b("mode-thumb"),ro=b("theme-toggle"),Vt=b("palette-pills"),io=b("add-palette-btn");function W(e){if(e==="hex"){const o=he(d.baseColor);if(o){d.oklchHue=Math.round(o.h||0);const i=(d.oklchHue-fn+360)%360;be&&(be.value=String(Math.round(i))),me&&(me.innerText=`${d.oklchHue}`);const s=Math.min(100,Math.round((o.c||0)/.4*100));d.oklchVividness=s/100,ve&&(ve.value=String(s)),xe&&(xe.innerText=`${s}%`)}}else{const o={mode:"oklch",l:.68,c:d.oklchVividness*.4,h:d.oklchHue},i=B(o)||"#000000";d.baseColor=i,I&&(I.value=i.toUpperCase()),O&&(O.value=i)}const t=document.getElementById("color-preview-bg");t&&(t.style.background=d.baseColor);const n=document.querySelector(".vivid-slider-wrapper");if(n){const o=d.oklchHue,i=B({mode:"oklch",l:.68,c:0,h:o})||"#cccccc",s=B({mode:"oklch",l:.68,c:.35,h:o})||"#00ff00";n.style.background=`linear-gradient(to right, ${i}, ${s})`}const r=document.querySelector(".hue-slider-wrapper");if(r){const i=[],s=Math.max(0,d.oklchVividness*.32);for(let l=0;l<37;l++){const a=l*360/36,c=B({mode:"oklch",l:.68,c:s,h:a})||"#ff0000";i.push(c)}r.style.background=`linear-gradient(to right, ${i.join(", ")})`}}function Ci(){if(be&&me){const t=(d.oklchHue-fn+360)%360;be.value=String(Math.round(t)),me.innerText=`${d.oklchHue}`}if(ve&&xe){const t=Math.round(d.oklchVividness*100);ve.value=String(t),xe.innerText=`${t}%`}I&&(I.value=d.baseColor.toUpperCase()),O&&(O.value=d.baseColor);const e=document.getElementById("color-preview-bg");e&&(e.style.background=d.baseColor),W("hex")}function it(){const e=d.paletteMode==="oklch"?Go(d.oklchHue,d.stops,d.oklchVividness,d.overrides):we({baseColor:d.baseColor,stops:d.stops,overrides:d.overrides,anchorStop:d.anchorStop,anchorTheme:"light"}),t=an(d.theme);return e.forEach(n=>{n.contrastWithNext=le(n.hex,t)}),e}function C(){try{ge=it(),Ko(ge),Zo({icons:{RefreshCw:ki,Moon:vi,Sun:Ti,HelpCircle:hi,Pipette:yi,Plus:Mi,Palette:xi,Download:gi,X:_i,AlertCircle:fi,Save:wi,Trash2:Si,CheckCircle:ui,Copy:pi,Settings:$i,MoreVertical:bi,GripVertical:mi},attrs:{width:16,height:16,"stroke-width":2}}),requestAnimationFrame(()=>{const e=document.getElementById("gen-mode-help");e&&(e.onmouseenter=Oi,e.onmouseleave=n0)})}catch(e){console.error("Update failed",e)}}function Ko(e){if(Li(),!P)return;P.innerHTML="";const t=document.querySelector(".list-header"),n=d.paletteMode==="oklch",r=n?'L<sup style="font-size: 0.7em; vertical-align: super; position: relative; top: -2px;">c</sup> Ratio':"WCAG Ratio";t&&(t.innerHTML=`
            <div class="cell">${r}</div>
            <div class="cell">Name</div>
            <div class="cell" style="text-align: center;">Color</div>
        `);const o=c=>c?'<span class="status-icon check"><i data-lucide="check-circle" class="icon-svg" style="width: 14px; height: 14px;"></i></span>':'<span class="status-icon warning"><i data-lucide="alert-circle" class="icon-svg" style="width: 14px; height: 14px;"></i></span>',i=document.createElement("div");i.className="list-row placeholder";const s=Rt(n?100:1,n);if(i.innerHTML=`
        <div class="list-row__cell">${s} ${o(!1)}</div>
        <div class="list-row__cell cell-name">White</div>
        <div class="list-row__cell cell-color">
            <div class="color-pill" style="background-color: #FFFFFF;"></div>
        </div>
    `,P==null||P.appendChild(i),e.length>0){const c=Number(e[0].stop),u=Math.round(c/2);if(u>0&&!d.stops.includes(u))try{const h=_(w({},d),{stops:[u],overrides:{}}),[g]=we(h);if(g.hex.toLowerCase()!=="#ffffff"){const m=document.createElement("div");m.className="insertion-row",m.innerHTML=`
                        <div class="insertion-line"></div>
                        <button class="insert-btn" title="Add stop ${u}">
                            <i data-lucide="plus" class="icon-svg" style="width: 12px; height: 12px;"></i>
                        </button>
                        <div class="insertion-line"></div>
                    `;const x=m.querySelector(".insert-btn");x&&(x.onclick=()=>{Se=u,d.stops.push(u),d.stops.sort((k,M)=>k-M),C()}),P==null||P.appendChild(m)}}catch(h){}}e.forEach((c,u)=>{var G;const h=document.createElement("div"),g=Number(c.stop)===Se;h.className=`list-row ${c.isAnchor?"is-anchor":""} ${g?"new-row":""}`;const m=c.hex||"#000000",x=le(m,an(d.theme)).toFixed(2),k=parseFloat(x)>=4.5;let M=c.stop.toString();c.isAnchor&&(M=`${c.stop} (Seed)`);const S=!cn.includes(Number(c.stop))&&!c.isAnchor;let $="";S&&e.length>2&&($='<span class="delete-stop-btn" title="Remove stop"><i data-lucide="trash-2" class="icon-svg" style="width: 14px; height: 14px;"></i></span>');const E=Rt(n?((G=c.lch)==null?void 0:G.l)||0:parseFloat(x),n);if(h.innerHTML=`
            <div class="list-row__cell">
                ${E} 
                ${o(k||c.isAnchor)}
            </div>
            <div class="list-row__cell cell-name">
                <span class="stop-number">${M}</span>
            </div>
            <div class="list-row__cell cell-color">
                <div class="color-pill" style="background-color: ${m};"></div>
                ${$}
            </div>
        `,S){const L=h.querySelector(".delete-stop-btn");L&&(L.onclick=V=>{V.stopPropagation(),h.classList.add("removing"),setTimeout(()=>{d.stops=d.stops.filter(F=>F!==Number(c.stop)),d.stops.sort((F,j)=>F-j),C()},250)})}h.onclick=()=>{Ni(c)},P==null||P.appendChild(h);const A=Number(c.stop),D=u<e.length-1?Number(e[u+1].stop):1e3,q=Math.round((A+D)/2);if(q>A&&q<D&&!d.stops.includes(q)){const L=document.createElement("div");L.className="insertion-row",L.innerHTML=`
                <div class="insertion-line"></div>
                <button class="insert-btn" title="Add stop ${q}">
                    <i data-lucide="plus" class="icon-svg" style="width: 12px; height: 12px;"></i>
                </button>
                <div class="insertion-line"></div>
            `;const V=L.querySelector(".insert-btn");V&&(V.onclick=()=>{Se=q,d.stops.push(q),d.stops.sort((F,j)=>F-j),C()}),P==null||P.appendChild(L)}});const l=document.createElement("div");l.className="list-row placeholder";const a=Rt(n?0:21,n);l.innerHTML=`
        <div class="list-row__cell">${a} ${o(!0)}</div>
        <div class="list-row__cell cell-name">Black</div>
        <div class="list-row__cell cell-color">
            <div class="color-pill" style="background-color: #000000;"></div>
        </div>
    `,P==null||P.appendChild(l),Se=null}function Ni(e){console.log("Opening refine modal for:",e),y=e.isOriginal?"seed":e.stop;const t=b("modal-stop-title");t&&(t.innerText=e.isOriginal?"Refine Original Color":`Refine Stop ${e.stop}`);const n=_(w({},d),{overrides:{}}),r=we(n),o=e.isOriginal?r.find(l=>l.isOriginal):r.find(l=>l.stop===e.stop);if(o){document.getElementById("preview-before").style.backgroundColor=o.hex;const l=y;if(!d.overrides[l]){const a=Ie(o.hex)||{h:0,s:0,l:0};d.overrides[l]={mode:"hsl",hue:a.h||0,s:a.s||0,lightness:a.l||0}}}Y&&(Y.classList.remove("hidden"),Y.style.display="flex");const i=d.overrides[y],s=i&&i.mode||"hsl";un(s)}function un(e){if(y===null)return;const t=y,n=we(d),r=y==="seed"?n.find(l=>l.isOriginal):n.find(l=>l.stop===y);if(r){const l=r.hex;if(e==="lch"){const a=ln(l)||{l:0,c:0,h:0};d.overrides[t]={mode:"lch",hue:a.h||0,chroma:a.c||0,lightness:a.l||0}}else if(e==="hsl"){const a=Ie(l)||{h:0,s:0,l:0};d.overrides[t]={mode:"hsl",hue:a.h||0,s:a.s||0,lightness:a.l||0}}else if(e==="rgb"){const a=Ne(l)||{r:0,g:0,b:0};d.overrides[t]={mode:"rgb",r:a.r||0,g:a.g||0,b:a.b||0}}else if(e==="hsb"){const a=Do(l)||{h:0,s:0,v:0};d.overrides[t]={mode:"hsb",hue:a.h||0,s:a.s||0,v:a.v||0}}}const o=document.getElementById("segment-thumb"),s=["hsl","hsb","rgb"].indexOf(e);o&&s!==-1&&(o.style.transform=`translateX(${s*100}%)`),document.querySelectorAll(".mode-tab").forEach(l=>{["hsl","hsb","rgb"].includes(l.getAttribute("data-mode")||"")&&l.classList.toggle("active",l.getAttribute("data-mode")===e)}),document.querySelectorAll(".mode-content").forEach(l=>{l.classList.toggle("active",l.id===`${e}-controls`)}),zi(e),C(),Z()}function zi(e){var n,r,o,i,s,l,a,c,u;const t=d.overrides[y];if(t&&e!=="lch"){if(e==="hsl"){const h=(n=t.hue)!=null?n:0,g=((r=t.s)!=null?r:0)*100,m=((o=t.lightness)!=null?o:0)*100,x=b("hsl-h-slider"),k=b("hsl-s-slider"),M=b("hsl-l-slider"),S=b("hsl-h-val"),$=b("hsl-s-val"),E=b("hsl-l-val");x&&(x.value=String(h)),k&&(k.value=String(g)),M&&(M.value=String(m)),S&&(S.innerText=`${Math.round(h)}`),$&&($.innerText=`${Math.round(g)}%`),E&&(E.innerText=`${Math.round(m)}%`),st(h,g,m)}else if(e==="hsb"){let h=(i=t.hue)!=null?i:0,g=((s=t.s)!=null?s:0)*100,m=((l=t.lightness)!=null?l:0)*100;t.mode==="hsb"&&(h=(a=t.hue)!=null?a:0,g=((c=t.s)!=null?c:0)*100,m=((u=t.v)!=null?u:0)*100);const x=b("hsb-h-slider"),k=b("hsb-s-slider"),M=b("hsb-b-slider"),S=b("hsb-s-val"),$=b("hsb-b-val");x&&(x.value=String(h)),k&&(k.value=String(g)),M&&(M.value=String(m)),S&&(S.innerText=`${Math.round(g)}%`),$&&($.innerText=`${Math.round(m)}%`),Qo(h,g/100,m/100)}else if(e==="rgb"){const h=t.mode==="rgb"?t:{r:0,g:0,b:0},g=Math.round((h.r||0)*255),m=Math.round((h.g||0)*255),x=Math.round((h.b||0)*255),k=b("rgb-r-slider"),M=b("rgb-g-slider"),S=b("rgb-b-slider"),$=b("rgb-r-val"),E=b("rgb-g-val"),A=b("rgb-b-val");k&&(k.value=String(g)),M&&(M.value=String(m)),S&&(S.value=String(x)),$&&($.innerText=String(g)),E&&(E.innerText=String(m)),A&&(A.innerText=String(x)),e0(h.r||0,h.g||0,h.b||0)}}}document.querySelectorAll(".mode-tab").forEach(e=>{const t=e.getAttribute("data-mode");t&&["hsl","hsb","rgb","css"].includes(t)&&(e.onclick=()=>un(t))});Qn&&(Qn.oninput=e=>{const t=e.target,n=parseFloat(t.value);d.overrides[y]=_(w({},d.overrides[y]),{hue:n}),to&&(to.innerText=`${Math.round(n)}`),C(),Z()});eo&&(eo.oninput=e=>{const t=e.target,n=parseFloat(t.value);d.overrides[y]=_(w({},d.overrides[y]),{chroma:n}),no&&(no.innerText=String(Math.round(n))),C(),Z()});const so=b("lch-l-slider"),lo=b("lch-l-val");so&&(so.oninput=e=>{const t=e.target,n=parseFloat(t.value);d.overrides[y]=_(w({},d.overrides[y]),{lightness:n}),lo&&(lo.innerText=String(Math.round(n))),C(),Z()});const ao=b("reset-override");ao&&(ao.onclick=()=>{const e=y;if(y===null)return;delete d.overrides[e];const t=_(w({},d),{overrides:{}}),n=we(t),r=y==="seed"?n.find(o=>o.isOriginal):n.find(o=>o.stop===y);if(r){const o=Ie(r.hex)||{h:0,s:0,l:0};d.overrides[e]={mode:"hsl",hue:o.h||0,s:o.s||0,lightness:o.l||0}}un("hsl"),C(),Z()});const ne=b("hsl-h-slider"),co=b("hsl-h-val"),oe=b("hsl-s-slider"),re=b("hsl-l-slider");ne&&(ne.oninput=e=>{const t=e.target,n=parseFloat(t.value),r=d.overrides[y]||{};d.overrides[y]=_(w({},r),{hue:n}),co&&(co.innerText=`${Math.round(n)}`);const o=(oe==null?void 0:oe.valueAsNumber)||0,i=(re==null?void 0:re.valueAsNumber)||0;st(n,o,i),C(),Z()});oe&&(oe.oninput=e=>{const t=e.target,n=parseFloat(t.value),r=d.overrides[y]||{};d.overrides[y]=_(w({},r),{s:n/100});const o=b("hsl-s-val");o&&(o.innerText=`${Math.round(n)}%`);const i=(ne==null?void 0:ne.valueAsNumber)||0,s=(re==null?void 0:re.valueAsNumber)||0;st(i,n,s),C(),Z()});re&&(re.oninput=e=>{const t=e.target,n=parseFloat(t.value),r=d.overrides[y]||{};d.overrides[y]=_(w({},r),{lightness:n/100});const o=b("hsl-l-val");o&&(o.innerText=`${Math.round(n)}%`);const i=(ne==null?void 0:ne.valueAsNumber)||0,s=(oe==null?void 0:oe.valueAsNumber)||0;st(i,s,n),C(),Z()});function st(e,t,n){const r=document.getElementById("hsl-s-slider"),o=document.getElementById("hsl-l-slider"),i=`hsl(${e}, 0%, ${n}%)`,s=`hsl(${e}, 100%, ${n}%)`,l=`hsl(${e}, ${t}%, 0%)`,a=`hsl(${e}, ${t}%, 50%)`,c=`hsl(${e}, ${t}%, 100%)`;r&&(r.style.background=`linear-gradient(to right, ${i}, ${s})`),o&&(o.style.background=`linear-gradient(to right, ${l}, ${a}, ${c})`)}function Qo(e,t,n){const r=document.getElementById("hsb-s-slider"),o=document.getElementById("hsb-b-slider"),i=B({mode:"hsv",h:e,s:0,v:n}),s=B({mode:"hsv",h:e,s:1,v:n}),l=B({mode:"hsv",h:e,s:t,v:0}),a=B({mode:"hsv",h:e,s:t,v:1});r&&(r.style.background=`linear-gradient(to right, ${i}, ${s})`),o&&(o.style.background=`linear-gradient(to right, ${l}, ${a})`)}["h","s","b"].forEach(e=>{const t=b(`hsb-${e}-slider`);t&&(t.oninput=n=>{var u,h,g;const r=n.target,o=parseFloat(r.value),i=d.overrides[y]||{};let s=(u=i.hue)!=null?u:0,l=(h=i.s)!=null?h:0,a=(g=i.v)!=null?g:0;e==="h"?(s=o,d.overrides[y]=_(w({},i),{hue:o,mode:"hsb"})):e==="s"?(l=o/100,d.overrides[y]=_(w({},i),{s:l,mode:"hsb"})):e==="b"&&(a=o/100,d.overrides[y]=_(w({},i),{v:a,mode:"hsb"}));const c=b(`hsb-${e}-val`);c&&(c.innerText=e==="h"?`${Math.round(o)}`:`${Math.round(o)}%`),Qo(s,l,a),C(),Z()})});function e0(e,t,n){const r=document.getElementById("rgb-r-slider"),o=document.getElementById("rgb-g-slider"),i=document.getElementById("rgb-b-slider"),s=l=>Math.round(l*255);r&&(r.style.background=`linear-gradient(to right, rgb(0, ${s(t)}, ${s(n)}), rgb(255, ${s(t)}, ${s(n)}))`),o&&(o.style.background=`linear-gradient(to right, rgb(${s(e)}, 0, ${s(n)}), rgb(${s(e)}, 255, ${s(n)}))`),i&&(i.style.background=`linear-gradient(to right, rgb(${s(e)}, ${s(t)}, 0), rgb(${s(e)}, ${s(t)}, 255))`)}["r","g","b"].forEach(e=>{const t=b(`rgb-${e}-slider`);t&&(t.oninput=n=>{const r=n.target,o=parseInt(r.value),i=d.overrides[y]||{},s=e==="r"?o/255:i.r!==void 0?i.r:0,l=e==="g"?o/255:i.g!==void 0?i.g:0,a=e==="b"?o/255:i.b!==void 0?i.b:0;d.overrides[y]=_(w({},i),{[e]:o/255,mode:"rgb"});const c=b(`rgb-${e}-val`);c&&(c.innerText=String(o)),e0(s,l,a),C(),Z()})});function hn(){Y&&Y.classList.add("hidden"),y=null}const fo=b("close-modal");fo&&(fo.onclick=hn);const uo=document.getElementById("save-modal-btn");uo&&(uo.onclick=()=>{if(y==="seed"&&d.overrides.seed){const e=d.overrides.seed;let t=d.baseColor;if(e.mode==="hsl"||e.mode==="hsb"||e.mode==="rgb"||e.mode==="lch"){let n;if(e.mode==="hsl"?n={mode:"hsl",h:e.hue,s:e.s,l:e.lightness}:e.mode==="hsb"?n={mode:"hsv",h:e.hue,s:e.s,v:e.v}:e.mode==="rgb"?n={mode:"rgb",r:e.r,g:e.g,b:e.b}:e.mode==="lch"&&(n={mode:"lch",l:e.lightness,c:e.chroma,h:e.hue}),n){const r=B(n);if(r){t=r,d.baseColor=t,W("hex");const o=b("base-color-picker"),i=b("base-color-input");o&&(o.value=t),i&&(i.value=t)}}}delete d.overrides.seed}C(),hn()});Y&&(Y.onclick=e=>{e.target===Y&&hn()});function Z(){if(y===null)return;const e=it(),t=y==="seed"?e.find(x=>x.isOriginal):e.find(x=>x.stop===y);if(!t)return;const n=_(w({},d),{overrides:{}}),r=d.paletteMode==="oklch"?Go(n.oklchHue,n.stops,n.oklchVividness,{}):we(n),o=y==="seed"?r.find(x=>x.isOriginal):r.find(x=>x.stop===(typeof y=="string"?t.stop:y));if(!o)return;const i=b("preview-before"),s=b("preview-after"),l=x=>{const k=le(x,"#ffffff"),M=le(x,"#000000");return k>=M?"#ffffff":"#000000"},a=o.hex,c=t.hex;i&&(i.style.backgroundColor=a,i.style.color=l(a)),s&&(s.style.backgroundColor=c,s.style.color=l(c));const u=b("hex-before-label"),h=b("hex-after-label");u&&(u.innerText=o.hex.toUpperCase(),u.style.color=o.lch.l>60?"#000":"#fff"),h&&(h.innerText=t.hex.toUpperCase(),h.style.color=t.lch.l>60?"#000":"#fff");const g=document.getElementById("modal-contrast-badge"),m=document.getElementById("modal-contrast-value");if(g&&m){const x=E=>{const A=parseInt(E.slice(1),16),D=(A>>16&255)/255,q=(A>>8&255)/255,G=(A&255)/255,L=[D,q,G].map(V=>V<=.03928?V/12.92:Math.pow((V+.055)/1.055,2.4));return .2126*L[0]+.7152*L[1]+.0722*L[2]},k=x(o.hex)+.05,M=x(t.hex)+.05,S=k>M?k/M:M/k;m.innerText=S.toFixed(2),g.style.display="flex";const $=g.querySelector(".warning-icon");$&&($.style.display=S===1?"block":"none")}}function Ei(e){const t=e.trim();if(!t)return null;let n=Ne(t);return!n&&!t.startsWith("#")&&(n=Ne("#"+t)),n?B(n):null}I&&(I.oninput=e=>{const t=e.target;let n=t.value;n&&!n.startsWith("#")&&/^[0-9a-fA-F]/.test(n)&&!Ne(n)&&(n="#"+n,t.value=n);const r=Ei(n);r&&(d.baseColor=r,O&&(O.value=r),W("hex"),C())},I.onblur=()=>{I.value=d.baseColor.toUpperCase()},I.onkeydown=e=>{e.key==="Enter"&&I.blur()});O&&(O.oninput=e=>{const t=e.target;d.baseColor=t.value,I&&(I.value=d.baseColor.toUpperCase()),W("hex"),C()});function lt(e){d.paletteMode=e,De&&De.classList.toggle("active",e==="legacy"),Ge&&Ge.classList.toggle("active",e==="oklch"),oo&&(oo.style.transform=e==="legacy"?"translateX(0)":"translateX(100%)"),ge.length>0&&Ko(ge)}De&&(De.onclick=()=>lt("legacy"));Ge&&(Ge.onclick=()=>lt("oklch"));be&&(be.oninput=e=>{const t=e.target,r=(parseInt(t.value,10)+fn)%360;d.oklchHue=r,me&&(me.innerText=`${r}`),W("sliders"),C()});ve&&(ve.oninput=e=>{const t=e.target,n=parseInt(t.value,10);d.oklchVividness=n/100,xe&&(xe.innerText=`${n}%`),W("sliders"),C()});function t0(e){const t=ge.find(s=>s.isAnchor)||ge[0];let n;if(d.paletteMode==="oklch"){const s=d.oklchHue;s<15||s>=345?n="Red":s<45?n="Orange":s<75?n="Yellow":s<150?n="Green":s<190?n="Teal":s<260?n="Blue":s<300?n="Indigo":s<345?n="Purple":n="Red"}else n=ri(Zn((t==null?void 0:t.hex)||d.baseColor));const o=it().filter(s=>s.hex.toLowerCase()!=="#ffffff"&&s.hex.toLowerCase()!=="#000000").map(s=>{const l=Zn(s.hex),a=le(s.hex,an(d.theme));return{stop:s.stop,hex:s.hex,color:l,contrast:a,isPass:a>=4.5,isAnchor:s.isAnchor,isOriginal:s.isOriginal}});return{name:n,createVariables:!1,swatches:o,action:e?"update":"create",paletteId:Le||void 0}}Re==null||Re.addEventListener("click",()=>{const t=t0(!!(te&&Le));t.createVariables=!0,t.createFrame=!1,parent.postMessage({pluginMessage:{type:"EXPORT_TO_FIGMA",payload:t}},"*")});const Hi=e=>{navigator.clipboard?navigator.clipboard.writeText(e).catch(()=>ho(e)):ho(e)},ho=e=>{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-9999px",t.style.top="0",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(n){console.error("Fallback copy failed",n)}document.body.removeChild(t)};Bt==null||Bt.addEventListener("click",()=>$n(null,null,function*(){if(window.EyeDropper)try{const t=yield new EyeDropper().open();t.sRGBHex&&(d.baseColor=t.sRGBHex,W("hex"),C())}catch(e){console.warn("EyeDropper cancelled or failed",e)}else O==null||O.click()}));At==null||At.addEventListener("click",()=>{const e=d.baseColor.toUpperCase();Hi(e),parent.postMessage({pluginMessage:{type:"NOTIFY",message:"Hex code copied!"}},"*")});qt==null||qt.addEventListener("click",()=>{const e=t0(!1);e.createVariables=!1,e.createFrame=!0,parent.postMessage({pluginMessage:{type:"EXPORT_TO_FIGMA",payload:e}},"*")});window.onmessage=e=>{const t=e.data.pluginMessage;t.type==="SET_BASE_COLOR"?(d.baseColor=t.hex,d.overrides={},I&&(I.value=t.hex),O&&(O.value=t.hex),C()):t.type==="PALETTES_DATA"&&(je=t.palettes||[],pn())};function pn(){const e=document.getElementById("palette-sidebar");if(!(!Vt||!e)){if(je.length===0){e.style.display="none";return}else e.style.display="flex";Vt.innerHTML="",je.forEach(t=>{const n=document.createElement("button");n.className="palette-pill",Le===t.hueName&&n.classList.add("palette-pill--active"),n.style.backgroundColor=t.previewHex,n.title=t.hueName,n.onclick=()=>{Ii(t.hueName)},Vt.appendChild(n)})}}function Ii(e){const t=je.find(o=>o.hueName===e);if(!t)return;Le=e,te=t.stops.map(o=>({stop:o.stop,hex:o.hex})),J=!1;const n=t.stops.find(o=>o.stop===500)||t.stops[Math.floor(t.stops.length/2)]||t.stops[0];d.baseColor=n.hex,d.anchorStop=n.stop,d.stops=t.stops.map(o=>o.stop).sort((o,i)=>o-i),d.overrides={},t.stops.forEach(o=>{d.overrides[o.stop]=w({mode:"lch"},ln(o.hex))}),I&&(I.value=d.baseColor),O&&(O.value=d.baseColor);const r=he(d.baseColor);r&&(d.oklchHue=r.h||0,d.oklchVividness=(r.c||0)/.4),W("hex"),C(),pn()}parent.postMessage({pluginMessage:{type:"GET_PALETTES"}},"*");io&&(io.onclick=()=>{Le=null,te=null,J=!1,d.overrides={},d.stops=[...cn],pn(),C()});function Li(){if(!te){J&&(J=!1,Ft());return}const e=it();if(e.length!==te.length){J=!0,Ft();return}let t=!1;for(const n of te){const r=e.find(o=>o.stop===n.stop);if(!r||r.hex.toUpperCase()!==n.hex.toUpperCase()){t=!0;break}}J!==t&&(J=t,Ft())}function Ft(){if(!Re)return;const e=document.getElementById("btn-text-vars");e&&(te&&J?e.innerHTML="Update variables":te&&!J?e.innerHTML="Saved":e.innerHTML="Generate variables")}function gn(e){d.theme=e,document.body.classList.toggle("light-theme",e==="light"),C();const t=b("theme-icon-light"),n=b("theme-icon-dark");e==="light"?(t&&(t.style.display="block"),n&&(n.style.display="none")):(t&&(t.style.display="none"),n&&(n.style.display="block"))}function Pi(){gn(d.theme==="dark"?"light":"dark")}ro&&(ro.onclick=Pi);gn(d.theme);Kn&&(Kn.onclick=()=>{Ri()});const Jt=document.getElementById("gen-mode-help"),X=document.getElementById("global-tooltip");let ae=null;const Oi=()=>{if(!Jt||!X)return;ae&&(clearTimeout(ae),ae=null);const e=Jt.getBoundingClientRect();X.style.display="block";const t=260,n=16;let r=e.left+e.width/2-t/2;r+t>window.innerWidth-n&&(r=window.innerWidth-t-n),r<n&&(r=n);let o=e.top-X.offsetHeight-12;o<n&&(o=e.bottom+12),X.style.left=`${r}px`,X.style.top=`${o}px`,requestAnimationFrame(()=>{X.classList.add("active")})},n0=()=>{X&&(ae&&clearTimeout(ae),ae=window.setTimeout(()=>{X.classList.remove("active"),setTimeout(()=>{X.classList.contains("active")||(X.style.display="none")},200),ae=null},300))};Jt&&X&&(X.onmouseleave=n0);function Ri(){d=JSON.parse(JSON.stringify(Jo)),Se=null,y=null,Y&&Y.classList.add("hidden"),I&&(I.value=d.baseColor),O&&(O.value=d.baseColor),W("hex"),lt(d.paletteMode),gn(d.theme),C()}{const e=document.querySelector(".version-text");e&&(e.textContent="V 0.0.86")}W("hex");Ci();lt(d.paletteMode);let Xt;function o0(){Xt&&clearTimeout(Xt),Xt=window.setTimeout(()=>{const e=Math.ceil(document.documentElement.offsetHeight),t=Math.ceil(window.innerWidth);parent.postMessage({pluginMessage:{type:"RESIZE_UI",width:t,height:e}},"*")},100)}const Ai=new ResizeObserver(()=>{o0()});document.body&&Ai.observe(document.body);window.setTimeout(o0,200)});export default Bi();</script>
  <style rel="stylesheet" crossorigin>:root{--color-brand-blue: #18A0FB;--color-brand-blue-hover: #108DE0;--color-base-white: #FFFFFF;--color-base-black: #000000;--color-gray-100: #f3f3f3;--color-gray-200: #ececec;--color-gray-500: #9E9E9E;--color-gray-800: #2C2C2C;--color-gray-900: #1E1E1E;--font-family-base: "Inter", system-ui, sans-serif;--font-family-brand: "Outfit", sans-serif;--font-family-mono: "IBM Plex Mono", monospace;--space-1: 4px;--space-2: 8px;--space-3: 12px;--space-4: 16px;--space-5: 20px;--space-6: 24px;--radius-sm: 8px;--radius-md: 12px;--radius-pill: 999px;--bg-app: #f9f9f9;--bg-card: #FFFFFF;--bg-subtle: #f3f3f3;--text-primary: #000000;--text-secondary: #9E9E9E;--text-on-brand: #FFFFFF;--border-subtle: #ececec;--border-focus: var(--color-brand-blue);--action-primary-bg: var(--color-brand-blue);--action-primary-bg-hover: var(--color-brand-blue-hover);--action-primary-text: var(--color-base-white);--shadow-sm: 0px 1px 2px rgba(0, 0, 0, .05);--shadow-md: 0px 2px 12px rgba(0, 0, 0, .08)}body:not(.light-theme){--bg-app: var(--color-gray-900);--bg-card: var(--color-gray-800);--bg-subtle: #252525;--text-primary: #FFFFFF;--text-secondary: #A3A3A3;--border-subtle: #3D3D3D;--shadow-sm: 0px 1px 2px rgba(0, 0, 0, .2);--shadow-md: 0px 4px 12px rgba(0, 0, 0, .3)}*{box-sizing:border-box;-webkit-font-smoothing:antialiased}body{margin:0;padding:0;background:var(--bg-app);color:var(--text-primary);font-family:var(--font-family-base);font-size:13px;line-height:1.4;height:100vh;display:flex;flex-direction:column;overflow:hidden}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:#00000026;border-radius:10px;border:2px solid transparent;background-clip:padding-box}::-webkit-scrollbar-thumb:hover{background:#00000040;background-clip:padding-box}body:not(.light-theme) ::-webkit-scrollbar-thumb{background:#ffffff26;background-clip:padding-box}body:not(.light-theme) ::-webkit-scrollbar-thumb:hover{background:#ffffff40;background-clip:padding-box}.plugin-container{align-self:center;display:flex;flex-direction:column;height:100vh;width:100%;padding:16px;gap:16px;background:var(--bg-app);overflow:hidden;position:relative;max-width:525px;flex-wrap:nowrap}.plugin-header-visual{height:60px;background:linear-gradient(135deg,#e0eafc,#cfdef3);position:relative;border-bottom:1px solid var(--border-subtle);display:flex;align-items:center;justify-content:center;overflow:hidden}.plugin-header-visual:after{content:"Perceptual Palette";font-family:var(--font-family-brand);font-weight:600;font-size:16px;color:#3b82f6;opacity:.8}.flex-row{display:flex!important;flex-direction:row!important}.top-header{display:flex;align-items:center;justify-content:space-between;padding:16px;gap:20px;border-bottom:1px solid var(--border-subtle);background:var(--bg-card);flex-shrink:0;width:100%;box-sizing:border-box}.plugin-icon-box-small{width:32px;height:32px;background:#000;border-radius:9px;display:flex;align-items:center;justify-content:center}.brand-title-text{font-family:"IBM Plex Sans",var(--font-family-base);font-weight:600;font-size:18px;color:var(--text-primary);letter-spacing:-.04em;background:none;-webkit-text-fill-color:initial;width:fit-content}.header-title-group{display:flex;align-items:baseline;gap:6px}.version-tag{font-size:12px;color:#bdbdbd;font-weight:500;font-family:var(--font-family-base)}.smart-switch{background:#f3f3f3;border:1px solid var(--border-subtle);border-radius:12px;width:58px;height:34px;position:relative;cursor:pointer;transition:background .2s;flex-shrink:0;box-shadow:inset 0 1px 2px #0000000d;user-select:none;padding:4px}.smart-switch__thumb{width:24px;height:24px;aspect-ratio:1 / 1;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a,0 0 1px #0000000d;display:flex;align-items:center;justify-content:center;transition:transform .25s cubic-bezier(.4,0,.2,1);position:relative;left:0;top:0;z-index:2;user-select:none}.smart-switch.active .smart-switch__thumb{transform:translate(18px)}body:not(.light-theme) #theme-toggle #theme-thumb{transform:translate(24px)}#theme-toggle .icon-svg{width:14px;height:14px}body:not(.light-theme) .smart-switch{background:#252525}.smart-switch__thumb .icon-svg{width:14px;height:14px;color:var(--text-primary)}body:not(.light-theme) .smart-switch__thumb{background:#3d3d3d}body:not(.light-theme) #theme-toggle .smart-switch__thumb{transform:translate(24px)}.smart-switch.active .smart-switch__thumb{transform:translate(24px)}.smart-switch.active{background:#10b981;border-color:#10b981}body:not(.light-theme) .smart-switch.active{background:#10b981;border-color:#10b981}.theme-toggle-btn{background:transparent;border:1px solid var(--border-subtle);border-radius:9px;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--text-primary)}.theme-toggle-btn:hover{background:var(--bg-subtle)}.theme-toggle-btn .icon-svg{width:16px;height:16px}.header-left{display:flex;align-items:center;gap:12px}.plugin-icon-box{width:24px;height:24px;background:linear-gradient(135deg,#18a0fb,#8b5cf6);border-radius:6px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 4px #0003}.header-title{font-weight:600;font-size:13px;color:#fff;letter-spacing:.01em}.icon-btn-header{background:transparent;border:none;color:#a3a3a3;cursor:pointer;padding:4px;border-radius:4px;display:flex;align-items:center;justify-content:center}.icon-btn-header:hover{background:#ffffff1a;color:#fff}.plugin-title-bar{background:var(--bg-card);border:1px solid var(--border-subtle);border-radius:12px;padding:12px 16px;display:flex;align-items:center;justify-content:space-between;box-shadow:var(--shadow-sm);flex-shrink:0}.brand-title{font-weight:600;font-size:14px;color:var(--accent-primary);background:linear-gradient(90deg,#18a0fb,#f43f5e);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.section-card{background:var(--bg-card);border:1px solid var(--border-subtle);border-radius:20px;box-shadow:var(--shadow-md);overflow:hidden;display:flex;flex-direction:column;width:100%}.params-card{min-height:min-content}.card-section{padding:16px;border-bottom:1px solid var(--border-subtle);display:flex;gap:12px;align-items:center}.card-section:last-child{border-bottom:none}.card-section.column{flex-direction:column;align-items:stretch}.label-sm{font-size:13px;font-weight:500;color:var(--text-primary);text-transform:none;letter-spacing:normal;margin-bottom:0;display:flex;justify-content:space-between}body:not(.light-theme) .label-sm{color:var(--text-secondary)}.label-xs{font-size:11px;font-weight:500;color:var(--text-tertiary);margin:0;letter-spacing:.02em}.theme-switch-row{display:flex;justify-content:space-between;width:100%;align-items:center}.icon-btn{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:4px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s}.icon-btn:hover{background:var(--bg-subtle);color:var(--text-primary)}.header-controls{display:flex;align-items:center;gap:12px}.header-btn{width:32px;height:32px;opacity:.8}.header-btn:hover{opacity:1}.header-btn span{font-size:20px}.mode-tabs{background:#f3f3f3;padding:4px;border-radius:12px;display:flex;position:relative;width:100%;max-width:180px;flex-shrink:1;user-select:none;border:1px solid rgba(0,0,0,.04);height:34px;box-sizing:border-box}body:not(.light-theme) .mode-tabs{background:#252525;border-color:transparent}.mode-thumb{position:absolute;top:4px;left:4px;height:24px;width:calc(50% - 4px);background:#fff;border-radius:8px;box-shadow:0 1px 3px #00000014,0 0 1px #0000001a;transition:transform .25s cubic-bezier(.4,0,.2,1);pointer-events:none;z-index:0}body:not(.light-theme) .mode-thumb{background:#3d3d3d;box-shadow:0 1px 3px #0003}.mode-tab{width:50%;flex:none;border:none;background:none;padding:0 4px;height:24px;font-size:12px;font-weight:500;color:var(--text-secondary);cursor:pointer;border-radius:99px;transition:color .2s;text-align:center;display:flex;align-items:center;justify-content:center;position:relative;z-index:1}.mode-tab.active{color:var(--text-primary);font-weight:600}.color-tool{display:flex;gap:12px;align-items:center;justify-content:space-between;padding:12px 16px;width:100%;position:relative;border-bottom:1px solid #ececec}body:not(.light-theme) .color-tool{border-bottom-color:#404040}.color-tool__header{flex:1 0 0}.color-tool__label{font-family:var(--font-family-base);font-weight:500;font-size:14px;color:#3c3c3c;margin:0;white-space:nowrap}#global-tooltip{display:none;opacity:0;position:fixed;width:260px;padding:12px;background:#ffffffd6;backdrop-filter:blur(16px);border:1px solid rgba(0,0,0,.08);border-radius:12px;box-shadow:0 8px 24px #0000001f;color:#3c3c3c;font-size:11px;line-height:1.5;z-index:9999;transition:opacity .2s cubic-bezier(.4,0,.2,1);pointer-events:none}#global-tooltip.active{display:block;opacity:1;pointer-events:auto}#global-tooltip a{color:#007aff;text-decoration:none;font-weight:500;pointer-events:auto}#global-tooltip a:hover{text-decoration:underline}body:not(.light-theme) #global-tooltip{background:#2d2d2de0;border-color:#ffffff1f;box-shadow:0 8px 32px #0006;color:#e2e2e2}body:not(.light-theme) #global-tooltip a{color:#4d9fff}body:not(.light-theme) .color-tool__label{color:#e2e2e2}.color-tool__body{display:flex;flex-direction:row;align-items:center;gap:12px;flex:1;justify-content:flex-end}.anchor-refined-body-v4{gap:6px!important;display:flex;align-items:center;width:100%}.anchor-hex-group{background:#f3f3f3;border:1px solid #ececec;border-radius:12px;height:32px;display:flex;align-items:center;flex:1;padding:0 8px;gap:4px}.anchor-hex-input{background:none;border:none;font-family:inherit;font-size:13px;color:var(--text-primary);width:100%;padding:0;height:100%;text-align:center;font-weight:500}.anchor-hex-input:focus{outline:none}.anchor-copy-btn{background:none;border:none;padding:4px;cursor:pointer;color:var(--text-tertiary);display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .1s;flex-shrink:0}.anchor-copy-btn:hover{background:#0000000d;color:var(--text-secondary)}.anchor-swatch-card{flex:1;height:32px;border-radius:12px;border:1px solid #ececec;overflow:hidden;cursor:pointer;transition:transform .1s;position:relative}.anchor-swatch-card:hover{transform:scale(1.02)}.anchor-swatch-card:active{transform:scale(.98)}.anchor-swatch-bg-pure{width:100%;height:100%}.color-picker__hidden{position:absolute;width:0;height:0;opacity:0;pointer-events:none}.toast-container{position:fixed;bottom:20px;left:50%;transform:translate(-50%);z-index:10000;pointer-events:none}.toast{background:#000000d9;color:#fff;padding:10px 16px;border-radius:8px;font-size:13px;font-weight:500;opacity:0;transform:translateY(10px);transition:opacity .2s,transform .2s;white-space:nowrap}.toast.show{opacity:1;transform:translateY(0)}body:not(.light-theme) .anchor-hex-group{background:#252525;border-color:#333}body:not(.light-theme) .toast{background:#ffffffe6;color:#000}body:not(.light-theme) .anchor-eyedropper-btn .icon-svg{color:#fff}body:not(.light-theme) .anchor-eyedropper-btn:hover{background:#383838}body:not(.light-theme) .anchor-preview-card{border-color:#404040}.info-icon{display:inline-flex;align-items:center;justify-content:center;width:16px;height:16px;border-radius:50%;border:1px solid #999;font-size:10px;color:#999;margin-left:4px;cursor:help}.badge-input{background:transparent;border:none;font-family:inherit;font-size:inherit;font-weight:inherit;color:inherit;text-align:center;width:100%;height:100%;outline:none}.color-picker__trigger{flex:1;height:32px;border-radius:12px;overflow:clip;border:1px solid #ececec;cursor:pointer;position:relative}.flex-between{display:flex!important;justify-content:space-between!important;align-items:center!important;width:100%}.input-row{display:flex;justify-content:space-between;align-items:center;gap:16px;width:100%;padding-bottom:var(--space-4);margin-top:0!important}.input-label{font-size:11px;font-weight:500;color:var(--text-secondary);text-transform:capitalize!important;letter-spacing:normal!important}.input-controls{display:flex;align-items:center;gap:var(--space-2);flex:1;justify-content:flex-end}.color-picker-group{display:flex;gap:8px;width:auto;flex:1;justify-content:flex-end}.color-picker__trigger{flex:1;height:32px;border-radius:12px;border:1px solid rgba(0,0,0,.05);box-shadow:inset 0 0 0 1px #ffffff1a;cursor:pointer;position:relative;overflow:hidden}.color-picker__native{position:absolute;top:-50%;left:-50%;width:200%;height:200%;opacity:0;cursor:pointer}.input-text-wrapper{width:80px;height:32px;background:var(--bg-subtle);border:1px solid var(--border-subtle);border-radius:var(--radius-pill);display:flex;align-items:center;justify-content:center;flex-shrink:0}.input-text-wrapper input{border:none;background:transparent;width:100%;height:100%;color:var(--text-primary);font-family:var(--font-family-mono);font-size:11px;text-align:center;outline:none}.input-text-wrapper:focus-within{border-color:var(--border-focus);box-shadow:0 0 0 2px #18a0fb1a}.slider-wrapper{position:relative;flex:1;height:34px;border-radius:12px;border:1px solid #ececec;overflow:hidden;display:flex;align-items:center;appearance:none;isolation:isolate;padding:4px;background-origin:content-box;background-clip:content-box}body:not(.light-theme) .slider-wrapper{border-color:#404040}.slider-track-sliver{position:absolute;inset:4px;border-radius:99px;z-index:1;pointer-events:none}.hue-slider-wrapper{background:linear-gradient(90deg,red,#ffe100,#15ff00,#00f2ff,#3c00ff,red);background-origin:border-box;background-clip:border-box}.vivid-slider-wrapper{background:#f3f3f3;background-origin:border-box;background-clip:border-box}.slider-wrapper input[type=range]{position:relative;margin:0;background:transparent;height:100%;width:100%;z-index:3;-webkit-appearance:none;appearance:none}.value-badge{background:#f3f3f3;border:1px solid var(--border-subtle);border-radius:12px;width:75px;height:32px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.value-badge span{font-family:var(--font-family-base);font-weight:500;font-size:11px;color:#3c3c3c;text-align:center}body:not(.light-theme) .value-badge{background:#2a2a2a}body:not(.light-theme) .value-badge span{color:#e2e2e2}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:24px;height:24px;background:#fff url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="2" height="4"><rect x="0" y="0" width="2" height="4" rx="1" fill="black"/></svg>') no-repeat center;background-size:2px 4px;border:1px solid rgba(0,0,0,.1);box-shadow:0 2px 6px #0000001f,0 0 2px #0000001c;border-radius:9px;cursor:pointer;z-index:3;position:relative}input[type=range]::-webkit-slider-thumb:hover{transform:none}.footer-section{padding-top:12px;display:flex;flex-direction:column;gap:12px;align-items:center}body:not(.light-theme){--bg-app: var(--color-gray-900);--bg-card: var(--color-gray-800);--bg-subtle: #252525;--text-primary: #FFFFFF;--text-secondary: #A3A3A3;--border-subtle: #3D3D3D;--shadow-sm: 0px 1px 2px rgba(0, 0, 0, .2);--shadow-md: 0px 4px 12px rgba(0, 0, 0, .3);--action-primary-bg: #FFFFFF;--action-primary-bg-hover: #F0F0F0;--action-primary-text: #000000}.btn{gap:var(--space-2);height:44px;padding:0 var(--space-4);border:none;border-radius:var(--radius-pill);font-family:var(--font-family-base);font-size:13px;font-weight:600;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);user-select:none;display:flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;min-height:48px}.btn-icon{width:16px;height:16px;flex-shrink:0}.btn:active{transform:scale(.98)}.btn--primary{background-color:#111;color:#fff;box-shadow:0 4px 12px #0000001a}.btn--primary:hover{opacity:.9;transform:translateY(-1px)}.btn--primary:active{transform:scale(.97) translateY(0)}.btn--secondary-filled{background-color:#e1e1e1;color:#3c3c3c}.btn--secondary-filled:hover{background-color:#d1d1d1}.btn--secondary-filled:active{transform:scale(.98)}body:not(.light-theme) .btn--secondary-filled{background-color:#3d3d3d;color:#fff}body:not(.light-theme) .btn--secondary-filled:hover{background-color:#4d4d4d}.version-text{font-size:12px;color:#9e9e9e;text-align:center;font-weight:500}.hidden{display:none!important}.list-header{display:flex;padding:0 16px 8px;font-size:11px;font-weight:500;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.list-row{display:flex;align-items:center;height:64px;background:var(--bg-card);border-radius:12px;padding:0 16px;box-shadow:var(--shadow-sm);margin-bottom:0;position:relative;transition:background .1s}.list-row:hover{background:var(--bg-hover)}.list-row__cell{flex:1;display:flex;align-items:center;font-size:14px;font-weight:500;color:var(--text-primary)}.cell-ratio{flex:0 0 120px;font-weight:600;font-feature-settings:"tnum"}.cell-name{flex:1;justify-content:flex-start}.cell-color{flex:0 0 60px;justify-content:flex-end}.status-icon{width:16px;height:16px;margin-left:6px}.status-icon--pass{color:#34c759}.status-icon--fail{color:#ff3b30}.color-pill{width:40px;height:40px;border-radius:12px;border:1px solid rgba(0,0,0,.05);box-shadow:inset 0 0 0 1px #0000000d}.column{display:flex!important;flex-direction:column!important}.row{display:flex!important;flex-direction:row!important}.flex-between{display:flex;justify-content:space-between;align-items:center}.w-full{width:100%}.palette-container{flex:1;min-height:0}.palette-list{flex:1;overflow-y:auto;padding:18px 16px;display:flex;flex-direction:column;row-gap:8px}body:not(.light-theme) .palette-container{border-color:#404040}.list-header{display:grid;grid-template-columns:repeat(3,1fr);align-items:center;padding:16px;border-bottom:1px solid #ececec;background:var(--bg-card)}.list-header .cell{font-family:IBM Plex Sans,sans-serif;font-weight:700;font-size:14px;color:#3c3c3c;text-transform:none;display:flex;justify-content:center}body:not(.light-theme) .list-header{border-bottom-color:#404040}body:not(.light-theme) .list-header .cell{color:#a3a3a3}.list-row{display:grid;grid-template-columns:repeat(3,1fr);align-items:center;height:44px;border-bottom:none;cursor:pointer;transition:background .15s ease,height .25s ease,opacity .25s ease,transform .25s ease;border-radius:8px;box-shadow:none!important;will-change:transform,opacity,height}.list-row.new-row{animation:row-enter .3s cubic-bezier(.34,1.56,.64,1) forwards}.list-row.removing{animation:row-exit .25s cubic-bezier(.4,0,.2,1) forwards;pointer-events:none}@keyframes row-enter{0%{opacity:0;transform:scale(.9);height:0;margin-bottom:0}to{opacity:1;transform:scale(1);height:44px;margin-bottom:8px}}@keyframes row-exit{0%{opacity:1;transform:scale(1);height:44px;margin-bottom:8px}to{opacity:0;transform:scale(.9);height:0;margin-bottom:0}}.list-row:hover{background:#fbfbfb}body:not(.light-theme) .list-row{border-bottom-color:#323232}body:not(.light-theme) .list-row:hover{background:#2a2a2a}.list-row__cell{font-family:IBM Plex Mono,monospace;font-weight:500;font-size:14px;color:#3c3c3c;display:flex;align-items:center;justify-content:center;gap:4px;white-space:nowrap}body:not(.light-theme) .list-row__cell{color:#fff}.list-row__cell.cell-name{font-family:var(--font-family-mono)}.list-row__cell.cell-color{display:flex;align-items:center;justify-content:center;position:relative}.delete-stop-btn{position:absolute;right:12px;font-size:16px;color:var(--text-secondary);cursor:pointer;padding:4px;border-radius:6px;transition:all .15s ease;opacity:0;transform:translate(5px)}.list-row:hover .delete-stop-btn{opacity:.6;transform:translate(0)}.delete-stop-btn:hover{opacity:1!important;background:#ff3b301a;color:#ff3b30}.list-row__cell.cell-color{justify-content:center}.color-pill{width:32px;height:32px;border-radius:12px;border:1px solid #ececec;box-shadow:inset 0 0 0 1px #00000005}.status-icon{font-size:14px;display:flex;align-items:center}.status-icon.warning{color:#ff3b30}.status-icon.check{color:#34c759}#gradient-sidebar{display:none}.insertion-row{height:24px;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .15s ease;position:relative;z-index:10;margin:-12px 0;cursor:pointer;width:100%}.insertion-row:hover{opacity:1}.insertion-line{flex:1;height:1px;background:var(--border-subtle)}.insert-btn{width:18px;height:18px;border-radius:50%;background:#000;color:#fff;border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:transform .1s;flex-shrink:0;padding:0}.insert-btn .icon-svg{width:12px;height:12px}.insert-btn:hover{transform:scale(1.1)}.stop-dot{position:absolute;left:50%;width:6px;height:6px;background:#fff;border:1px solid rgba(0,0,0,.3);border-radius:50%;transform:translate(-50%,-50%);pointer-events:none}.thumb-icon-svg{width:10px;height:8px;opacity:0;transition:opacity .2s;pointer-events:none}.thumb-icon-svg path{stroke:var(--text-primary)}.smart-switch.active .thumb-icon-svg{opacity:1}.plugin-footer{flex-shrink:0;padding:16px;gap:12px;position:relative}.footer-row{width:100%}.footer-info{display:flex;justify-content:center;margin-top:4px}.resizer-handle{position:absolute;bottom:4px;right:4px;width:12px;height:12px;pointer-events:none;opacity:.4}.main-content-row{display:flex;flex-direction:row;gap:14px;flex:1;min-height:0}.palette-sidebar{display:flex;flex-direction:column;gap:8px;align-items:center;padding:0;flex-shrink:0}.btn-secondary{height:32px;padding:0 16px;background:transparent;border:1px solid var(--border-subtle);border-radius:var(--radius-sm);color:var(--text-primary);font-family:var(--font-family-base);font-weight:500;font-size:13px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.btn-secondary:hover{background:var(--bg-subtle);border-color:var(--text-secondary)}.btn-tertiary{height:32px;padding:0 16px;background:transparent;border:none;border-radius:var(--radius-sm);color:var(--text-secondary);font-family:var(--font-family-base);font-weight:500;font-size:13px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.btn-tertiary:hover{background:var(--bg-subtle);color:var(--text-primary)}.palette-pills{display:flex;flex-direction:column;gap:8px;align-items:center}.palette-pill{width:24px;height:24px;border-radius:12px;border:1px solid #ececec;background:#888;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;padding:0}.palette-pill:hover{transform:scale(1.1)}.palette-pill--active{width:32px;height:32px;border-radius:12px;border-width:2px;border-color:var(--text-primary)}.palette-pill--add{background:#e3e3e3;color:#000}body:not(.light-theme) .palette-pill--add{background:#3d3d3d;color:#fff}body:not(.light-theme) .palette-pill{border-color:#404040}body:not(.light-theme) .palette-pill--active{border-color:#fff}.modal-overlay{background:#0006;backdrop-filter:blur(4px);padding:40px;box-sizing:border-box}.modal-card{background:var(--bg-card);border-radius:20px;box-shadow:var(--shadow-md);border:1px solid var(--border-subtle);width:100%;max-width:470px;max-height:90vh;display:flex;flex-direction:column;overflow:hidden}body:not(.light-theme) .modal-card{border-color:#404040}.modal-header{display:flex;justify-content:space-between;align-items:center;padding:24px;border-bottom:1px solid var(--border-subtle);background:var(--bg-card)}body:not(.light-theme) .modal-header{border-color:#404040}.modal-title{font-size:20px;font-weight:600;color:var(--text-primary);font-family:var(--font-family-base)}.modal-close-btn{width:44px;height:44px;background:var(--bg-subtle);border-radius:22px;display:flex;align-items:center;justify-content:center;color:var(--text-primary);cursor:pointer;border:none;transition:background .2s}body:not(.light-theme) .modal-close-btn{background:#333;color:#fff}.modal-close-btn:hover{background:#e0e0e0}body:not(.light-theme) .modal-close-btn:hover{background:#444}.control-section{padding:0;display:flex;flex-direction:column}body:not(.light-theme) .modal-row{border-color:#404040}#preview-before,#preview-after{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff;font-family:Inter,sans-serif;font-weight:500;min-width:1px;position:relative}#preview-before{border-top-left-radius:12px;border-bottom-left-radius:12px}#preview-after{border-top-right-radius:12px;border-bottom-right-radius:12px}#hex-before-label,#hex-after-label{font-size:24px;font-weight:600;margin-bottom:4px;line-height:normal}.swatch-sublabel{opacity:.8;font-size:16px;line-height:normal;color:inherit}.label-text{font-size:13px;font-weight:500;color:#888}.value-pill{background:transparent;padding:0;border-radius:12px;font-size:13px;font-weight:500;color:var(--text-primary);min-width:40px;text-align:center}body:not(.light-theme) .value-pill{background:#333}.refiner-slider{-webkit-appearance:none;appearance:none;background:transparent;cursor:pointer;height:8px;border-radius:4px;width:100%}.refiner-slider.rainbow-slider{background:linear-gradient(to right,red,#ff0 17%,#0f0 33%,#0ff,#00f 67%,#f0f 83%,red)}.refiner-slider::-webkit-slider-thumb{-webkit-appearance:none;border:1px solid rgba(0,0,0,.1);height:20px;width:20px;border-radius:50%;background:#fff;cursor:pointer;box-shadow:0 2px 4px #00000026;margin-top:0}.rainbow-slider{background:linear-gradient(to right,red,#ff0 17%,#0f0 33%,#0ff,#00f 67%,#f0f 83%,red)}.contrast-badge{position:absolute;bottom:-14px;left:50%;transform:translate(-50%);background:#fff;padding:6px 10px;border-radius:12px;border:none;display:flex;align-items:center;justify-content:center;gap:4px;font-family:IBM Plex Mono,monospace;font-size:14px;font-weight:500;color:#3c3c3c;box-shadow:0 2px 4px #0000001a;z-index:10;min-width:fit-content;white-space:nowrap}.warning-icon{font-size:16px;color:#ffb800;display:inline-flex}.modal-row{padding:16px 24px;border-bottom:1px solid var(--border-subtle);display:flex;flex-direction:column;gap:12px}.modal-row-label{display:flex;justify-content:space-between;align-items:center;width:100%}.value-pill{background:transparent;padding:0;font-size:14px;font-weight:500;color:var(--text-primary);text-align:right;min-width:40px}.modal-footer{padding:24px;display:flex;gap:12px;background:var(--bg-card);margin-top:auto}.btn-pill{flex:1;height:48px;border-radius:99px;font-size:16px;font-weight:500;display:flex;align-items:center;justify-content:center;gap:8px;cursor:pointer;border:none;transition:transform .1s}.btn-pill:active{transform:scale(.98)}.btn-pill-secondary{background:#e5e5e5;color:#3c3c3c}.btn-pill-primary{background:#000;color:#fff}body:not(.light-theme) .btn-pill-primary{background:#fff;color:#000}body:not(.light-theme) .btn-pill-secondary{background:#333;color:#fff}.mode-content{display:none;width:100%;animation:fadeIn .2s ease-in-out}.mode-content.active{display:block}@keyframes fadeIn{0%{opacity:0;transform:translateY(2px)}to{opacity:1;transform:translateY(0)}}</style>
</head>

<body>
  <!-- Lucide Icons are injected by ui.ts -->


  <div class="plugin-container">
    <!-- SETTINGS CARD (Top) -->
    <div class="params-card section-card" id="settings-card" style="flex-shrink: 0;">
      <!-- GLOBAL HEADER -->
      <div class="top-header">
        <div class="flex-row" style="flex: 1 0 0; gap: 6px; align-items: center;">
          <div class="plugin-icon-box-small"
            style="background: #000000; border: none; padding: 0; width: 32px; height: 32px; overflow: hidden; display: flex; align-items: center; justify-content: center; border-radius: 8px;">
            <img src="data:image/png;base64,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" alt="Logo" style="width: 32px; height: 32px; display: block;">
          </div>
          <div class="header-title-group">
            <span class="brand-title-text">Perceptual Palette</span>
            <span class="version-tag">V 0.0.84</span>
          </div>
        </div>

        <!-- Header Controls -->
        <div class="header-controls">
          <button id="reset-plugin" class="icon-btn header-btn" title="Reset Plugin">
            <i data-lucide="refresh-cw" class="icon-svg"></i>
          </button>
          <div id="theme-toggle" class="smart-switch" title="Toggle Theme">
            <div id="theme-thumb" class="smart-switch__thumb">
              <!-- Light icon (sun) shown in light theme -->
              <i data-lucide="sun" id="theme-icon-light" class="icon-svg"></i>
              <!-- Dark icon (moon) shown in dark theme -->
              <i data-lucide="moon" id="theme-icon-dark" class="icon-svg" style="display:none"></i>
            </div>
          </div>
        </div>
      </div>

      <!-- Generation Mode Row -->
      <div class="color-tool">
        <div class="color-tool__header">
          <div class="tooltip-wrapper">
            <span class="color-tool__label">Generation mode</span>
            <i data-lucide="help-circle" id="gen-mode-help" class="icon-svg"
              style="width: 14px; height: 14px; color: var(--text-tertiary); cursor: help;"></i>
          </div>
        </div>
        <div class="color-tool__body">
          <div class="mode-tabs">
            <div id="mode-thumb" class="mode-thumb"></div>
            <button id="mode-legacy" class="mode-tab">Legacy</button>
            <button id="mode-oklch" class="mode-tab active">Perceptual</button>
          </div>
        </div>
      </div>

      <!-- Anchor Color Component -->
      <div class="color-tool" id="tool-anchor">
        <div class="color-tool__header">
          <span class="color-tool__label">Anchor color</span>
        </div>
        <div class="color-tool__body anchor-refined-body-v4">
          <!-- Hex + Copy Group -->
          <div class="anchor-hex-group">
            <input type="text" id="base-color-input" value="#9600FF" spellcheck="false" class="anchor-hex-input">
            <button id="copy-anchor-hex" class="anchor-copy-btn" title="Copy Hex">
              <i data-lucide="copy" class="icon-svg" style="width: 14px; height: 14px;"></i>
            </button>
          </div>

          <!-- Color Swatch Card (Triggers EyeDropper) -->
          <div class="anchor-swatch-card" id="anchor-swatch-trigger" title="Pick color from screen">
            <div id="color-preview-bg" class="anchor-swatch-bg-pure" style="background: #9600FF;"></div>
            <!-- Hidden native picker as absolute fallback -->
            <input type="color" id="base-color-picker" class="color-picker__hidden" value="#9600FF">
          </div>
        </div>
      </div>


      <!-- OKLCH Controls (Toggled) -->
      <!-- Note: We wrap these in a fragment-like container that doesn't add padding to keep rows direct siblings -->
      <div id="oklch-controls" style="display: contents;">
        <!-- Hue Component -->
        <div class="color-tool" id="tool-hue">
          <div class="color-tool__header">
            <span class="color-tool__label">Hue</span>
          </div>
          <div class="color-tool__body">
            <div class="value-badge">
              <span id="oklch-hue-value">297</span>
            </div>
            <div class="slider-wrapper hue-slider-wrapper">
              <input type="range" id="oklch-hue-slider" min="0" max="360" step="1" value="297">
            </div>
          </div>
        </div>

        <!-- Vividness Component -->
        <div class="color-tool" id="tool-vividness">
          <div class="color-tool__header">
            <span class="color-tool__label">Vividness</span>
          </div>
          <div class="color-tool__body">
            <div class="value-badge">
              <span id="oklch-vividness-value">100%</span>
            </div>
            <div class="slider-wrapper vivid-slider-wrapper">
              <input type="range" id="oklch-vividness-slider" min="0" max="100" step="1" value="100">
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- MAIN CONTENT AREA (Sidebar + Editor) -->
    <div class="main-content-row">
      <!-- PALETTE SIDEBAR -->
      <div class="palette-sidebar" id="palette-sidebar">
        <div class="palette-pills" id="palette-pills">
          <!-- Dynamically populated by ui.ts -->
        </div>
        <button class="palette-pill palette-pill--add" id="add-palette-btn" title="Create New Palette">
          <i data-lucide="plus" class="icon-svg" style="width: 16px; height: 16px;"></i>
        </button>
      </div>

      <!-- RESULTS / PALETTE TABLE -->
      <div id="results-area" class="palette-container section-card">
        <div class="list-header">
          <!-- ui.ts injects header cells here -->
        </div>
        <div class="palette-list" id="stops-container">
          <!-- ui.ts injects rows here -->
        </div>
      </div>
    </div>

    <!-- FOOTER SECTION -->
    <footer class="section-card plugin-footer">
      <div class="footer-row" style="gap: 12px; display: flex;">
        <button id="btn-save-vars" class="btn btn--secondary-filled w-full">
          <i data-lucide="palette" class="btn-icon"></i>
          <span id="btn-text-vars">Save variables</span>
        </button>
        <button id="btn-create-template" class="btn btn--primary w-full">
          <i data-lucide="download" class="btn-icon"></i>
          <span id="btn-text-template">Visualize in figma</span>
        </button>
      </div>
    </footer>

  </div>

  </div>

  <!-- Resize Handle -->
  <div class="resizer-handle">
    <i data-lucide="grip-vertical" class="icon-svg" style="width: 10px; height: 10px; opacity: 0.5;"></i>
  </div>
  </div>

  </div>

  <!-- REFINE MODAL -->
  <div id="refine-modal" class="modal-overlay hidden"
    style="position: fixed; inset: 0; z-index: 100; display: flex; align-items: center; justify-content: center;">
    <div class="modal-card">
      <div class="modal-header">
        <span id="modal-stop-title" class="modal-title">Refine stop 500</span>
        <button id="close-modal" class="modal-close-btn"><i data-lucide="x" class="icon-svg"></i></button>
      </div>

      <div class="control-section" style="overflow-y: auto; flex: 1;">
        <div style="padding: 24px; border-bottom: 1px solid #ececec; position: relative;">
          <div class="comparison-preview" style="display: flex; height: 128px;">
            <div id="preview-before">
              <span id="hex-before-label">#000000</span>
              <span class="swatch-sublabel">Original</span>
            </div>
            <div id="preview-after">
              <span id="hex-after-label">#000000</span>
              <span class="swatch-sublabel">Refining</span>
            </div>
          </div>
          <!-- Contrast Badge (V 0.0.80 Parity) -->
          <div class="contrast-badge" id="modal-contrast-badge" style="display: none;">
            <span id="modal-contrast-value">1.00</span>
            <i data-lucide="alert-circle" class="warning-icon icon-svg" style="width: 16px; height: 16px;"></i>
          </div>
        </div>

        <div style="padding: 16px 24px 0 24px;">
          <div class="mode-tabs" style="max-width: 100%; width: 100%;">
            <div id="segment-thumb" class="mode-thumb" style="width: calc(33.33% - 4px);"></div>
            <button class="mode-tab active" data-mode="hsl" style="width: 33.33%;">HSL</button>
            <button class="mode-tab" data-mode="hsb" style="width: 33.33%;">HSB</button>
            <button class="mode-tab" data-mode="rgb" style="width: 33.33%;">RGB</button>
          </div>
        </div>

        <!-- LCH Controls (Hidden) -->
        <div id="lch-controls" class="mode-content">
          <div class="modal-row">
            <div class="modal-row-label">
              <span class="label-text">Hue</span>
              <div id="hue-val" class="value-pill">0</div>
            </div>
            <input type="range" id="hue-slider" class="rainbow-slider refiner-slider" min="0" max="360" step="1"
              style="width: 100%;">
          </div>
          <div class="modal-row">
            <div class="modal-row-label">
              <span class="label-text">Chroma</span>
              <div id="chroma-val" class="value-pill">0</div>
            </div>
            <input type="range" id="chroma-slider" class="refiner-slider" min="0" max="150" step="0.5"
              style="width: 100%;">
          </div>
          <div class="modal-row" style="border-bottom: none;">
            <div class="modal-row-label">
              <span class="label-text">Lightness</span>
              <div id="lch-l-val" class="value-pill">0</div>
            </div>
            <input type="range" id="lch-l-slider" class="refiner-slider" min="0" max="100" step="0.5"
              style="width: 100%;">
          </div>
        </div>

        <!-- HSL Controls (Default Active) -->
        <div id="hsl-controls" class="mode-content active">
          <div class="modal-row">
            <div class="modal-row-label">
              <span class="label-text">Hue</span>
              <div id="hsl-h-val" class="value-pill">0</div>
            </div>
            <input type="range" id="hsl-h-slider" class="rainbow-slider refiner-slider" min="0" max="360" step="1"
              style="width: 100%;">
          </div>
          <div class="modal-row">
            <div class="modal-row-label">
              <span class="label-text">Saturation</span>
              <div id="hsl-s-val" class="value-pill">0%</div>
            </div>
            <input type="range" id="hsl-s-slider" class="refiner-slider" min="0" max="100" step="1"
              style="width: 100%;">
          </div>
          <div class="modal-row" style="border-bottom: none;">
            <div class="modal-row-label">
              <span class="label-text">Lightness</span>
              <div id="hsl-l-val" class="value-pill">0%</div>
            </div>
            <input type="range" id="hsl-l-slider" class="refiner-slider" min="0" max="100" step="1"
              style="width: 100%;">
          </div>
        </div>

        <!-- HSB Controls -->
        <div id="hsb-controls" class="mode-content">
          <div class="modal-row">
            <div class="modal-row-label">
              <span class="label-text">Hue</span>
              <div id="hsb-h-val" class="value-pill">0</div>
            </div>
            <input type="range" id="hsb-h-slider" class="rainbow-slider refiner-slider" min="0" max="360" step="1"
              style="width: 100%;">
          </div>
          <div class="modal-row">
            <div class="modal-row-label">
              <span class="label-text">Saturation</span>
              <div id="hsb-s-val" class="value-pill">0%</div>
            </div>
            <input type="range" id="hsb-s-slider" class="refiner-slider" min="0" max="100" step="1"
              style="width: 100%;">
          </div>
          <div class="modal-row" style="border-bottom: none;">
            <div class="modal-row-label">
              <span class="label-text">Brightness</span>
              <div id="hsb-b-val" class="value-pill">0%</div>
            </div>
            <input type="range" id="hsb-b-slider" class="refiner-slider" min="0" max="100" step="1"
              style="width: 100%;">
          </div>
        </div>

        <!-- RGB Controls -->
        <div id="rgb-controls" class="mode-content">
          <div class="modal-row">
            <div class="modal-row-label">
              <span class="label-text">Red</span>
              <div id="rgb-r-val" class="value-pill">0</div>
            </div>
            <input type="range" id="rgb-r-slider" class="refiner-slider" min="0" max="255" step="1"
              style="width: 100%;">
          </div>
          <div class="modal-row">
            <div class="modal-row-label">
              <span class="label-text">Green</span>
              <div id="rgb-g-val" class="value-pill">0</div>
            </div>
            <input type="range" id="rgb-g-slider" class="refiner-slider" min="0" max="255" step="1"
              style="width: 100%;">
          </div>
          <div class="modal-row" style="border-bottom: none;">
            <div class="modal-row-label">
              <span class="label-text">Blue</span>
              <div id="rgb-b-val" class="value-pill">0</div>
            </div>
            <input type="range" id="rgb-b-slider" class="refiner-slider" min="0" max="255" step="1"
              style="width: 100%;">
          </div>
        </div>




        <div class="modal-footer">
          <button id="reset-override" class="btn-pill btn-pill-secondary">
            <i data-lucide="refresh-cw" class="icon-svg" style="margin-right: 4px;"></i>
            Reset
          </button>
          <button id="save-modal-btn" class="btn-pill btn-pill-primary">
            <i data-lucide="save" class="icon-svg" style="margin-right: 4px;"></i>
            Save changes
          </button>
        </div>
      </div>
    </div>

    <!-- Global Tooltip for escaping overflow constraints - V 0.0.70 -->
    <div id="global-tooltip" class="tooltip-content" style="display: none;">
      <strong>Legacy</strong>: Uses the 100-900 scale based on Zain Adeels WCAG 2.1 algorithm for standard
      accessibility.<br><br>
      <strong>Perceptual (OKLCH)</strong>: Uses the latest APCA-aligned standard. We applied Zain's logic to the OKLCH
      L-axis for a more uniform and predictable visual scale.<br><br>
      <a href="https://uxdesign.cc/my-struggle-with-colors-part-ii-ed71bff6302a" target="_blank">Read Zain's Article</a>
    </div>

    <!-- Toast Notification Container -->
    <div id="toast-container" class="toast-container"></div>

</body>

</html>