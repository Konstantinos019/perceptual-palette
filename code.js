var ha=Object.defineProperty,pa=Object.defineProperties;var ba=Object.getOwnPropertyDescriptors;var Nn=Object.getOwnPropertySymbols;var ga=Object.prototype.hasOwnProperty,ma=Object.prototype.propertyIsEnumerable;var Cn=(L,R,N)=>R in L?ha(L,R,{enumerable:!0,configurable:!0,writable:!0,value:N}):L[R]=N,P=(L,R)=>{for(var N in R||(R={}))ga.call(R,N)&&Cn(L,N,R[N]);if(Nn)for(var N of Nn(R))ma.call(R,N)&&Cn(L,N,R[N]);return L},A=(L,R)=>pa(L,ba(R));var se=(L,R,N)=>new Promise((Re,ue)=>{var S=E=>{try{Y(N.next(E))}catch(O){ue(O)}},j=E=>{try{Y(N.throw(E))}catch(O){ue(O)}},Y=E=>E.done?Re(E.value):Promise.resolve(E.value).then(S,j);Y((N=N.apply(L,R)).next())});(function(){"use strict";const L=(e,t)=>{if(typeof e=="number"){if(t===3)return{mode:"rgb",r:(e>>8&15|e>>4&240)/255,g:(e>>4&15|e&240)/255,b:(e&15|e<<4&240)/255};if(t===4)return{mode:"rgb",r:(e>>12&15|e>>8&240)/255,g:(e>>8&15|e>>4&240)/255,b:(e>>4&15|e&240)/255,alpha:(e&15|e<<4&240)/255};if(t===6)return{mode:"rgb",r:(e>>16&255)/255,g:(e>>8&255)/255,b:(e&255)/255};if(t===8)return{mode:"rgb",r:(e>>24&255)/255,g:(e>>16&255)/255,b:(e>>8&255)/255,alpha:(e&255)/255}}},R={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},N=e=>L(R[e.toLowerCase()],6),Re=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,ue=e=>{let t;return(t=e.match(Re))?L(parseInt(t[1],16),t[1].length):void 0},S="([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)",j=`${S}%`,Y=`(?:${S}%|${S})`,E=`(?:${S}(deg|grad|rad|turn)|${S})`,O="\\s*,\\s*",Rn=new RegExp(`^rgba?\\(\\s*${S}${O}${S}${O}${S}\\s*(?:,\\s*${Y}\\s*)?\\)$`),Pn=new RegExp(`^rgba?\\(\\s*${j}${O}${j}${O}${j}\\s*(?:,\\s*${Y}\\s*)?\\)$`),Ln=e=>{let t={mode:"rgb"},n;if(n=e.match(Rn))n[1]!==void 0&&(t.r=n[1]/255),n[2]!==void 0&&(t.g=n[2]/255),n[3]!==void 0&&(t.b=n[3]/255);else if(n=e.match(Pn))n[1]!==void 0&&(t.r=n[1]/100),n[2]!==void 0&&(t.g=n[2]/100),n[3]!==void 0&&(t.b=n[3]/100);else return;return n[4]!==void 0?t.alpha=Math.max(0,Math.min(1,n[4]/100)):n[5]!==void 0&&(t.alpha=Math.max(0,Math.min(1,+n[5]))),t},An=(e,t)=>e===void 0?void 0:typeof e!="object"?jn(e):e.mode!==void 0?e:t?A(P({},e),{mode:t}):void 0,kt=(e="rgb")=>t=>(t=An(t,e))!==void 0?t.mode===e?t:X[t.mode][e]?X[t.mode][e](t):e==="rgb"?X[t.mode].rgb(t):X.rgb[e](X[t.mode].rgb(t)):void 0,X={},wt={},ce=[],zt={},Sn=e=>e,y=e=>(X[e.mode]=P(P({},X[e.mode]),e.toMode),Object.keys(e.fromMode||{}).forEach(t=>{X[t]||(X[t]={}),X[t][e.mode]=e.fromMode[t]}),e.ranges||(e.ranges={}),e.difference||(e.difference={}),e.channels.forEach(t=>{if(e.ranges[t]===void 0&&(e.ranges[t]=[0,1]),!e.interpolate[t])throw new Error(`Missing interpolator for: ${t}`);typeof e.interpolate[t]=="function"&&(e.interpolate[t]={use:e.interpolate[t]}),e.interpolate[t].fixup||(e.interpolate[t].fixup=Sn)}),wt[e.mode]=e,(e.parse||[]).forEach(t=>{Xn(t,e.mode)}),kt(e.mode)),On=e=>wt[e],Xn=(e,t)=>{if(typeof e=="string"){if(!t)throw new Error("'mode' required when 'parser' is a string");zt[e]=t}else typeof e=="function"&&ce.indexOf(e)<0&&ce.push(e)},Pe=/[^\x00-\x7F]|[a-zA-Z_]/,Hn=/[^\x00-\x7F]|[-\w]/,l={Function:"function",Ident:"ident",Number:"number",Percentage:"percentage",ParenClose:")",None:"none",Hue:"hue",Alpha:"alpha"};let p=0;function he(e){let t=e[p],n=e[p+1];return t==="-"||t==="+"?/\d/.test(n)||n==="."&&/\d/.test(e[p+2]):t==="."?/\d/.test(n):/\d/.test(t)}function Le(e){if(p>=e.length)return!1;let t=e[p];if(Pe.test(t))return!0;if(t==="-"){if(e.length-p<2)return!1;let n=e[p+1];return!!(n==="-"||Pe.test(n))}return!1}const En={deg:1,rad:180/Math.PI,grad:9/10,turn:360};function ne(e){let t="";if((e[p]==="-"||e[p]==="+")&&(t+=e[p++]),t+=pe(e),e[p]==="."&&/\d/.test(e[p+1])&&(t+=e[p++]+pe(e)),(e[p]==="e"||e[p]==="E")&&((e[p+1]==="-"||e[p+1]==="+")&&/\d/.test(e[p+2])?t+=e[p++]+e[p++]+pe(e):/\d/.test(e[p+1])&&(t+=e[p++]+pe(e))),Le(e)){let n=be(e);return n==="deg"||n==="rad"||n==="turn"||n==="grad"?{type:l.Hue,value:t*En[n]}:void 0}return e[p]==="%"?(p++,{type:l.Percentage,value:+t}):{type:l.Number,value:+t}}function pe(e){let t="";for(;/\d/.test(e[p]);)t+=e[p++];return t}function be(e){let t="";for(;p<e.length&&Hn.test(e[p]);)t+=e[p++];return t}function Vn(e){let t=be(e);return e[p]==="("?(p++,{type:l.Function,value:t}):t==="none"?{type:l.None,value:void 0}:{type:l.Ident,value:t}}function qn(e=""){let t=e.trim(),n=[],i;for(p=0;p<t.length;){if(i=t[p++],i===`
`||i==="	"||i===" "){for(;p<t.length&&(t[p]===`
`||t[p]==="	"||t[p]===" ");)p++;continue}if(i===",")return;if(i===")"){n.push({type:l.ParenClose});continue}if(i==="+"){if(p--,he(t)){n.push(ne(t));continue}return}if(i==="-"){if(p--,he(t)){n.push(ne(t));continue}if(Le(t)){n.push({type:l.Ident,value:be(t)});continue}return}if(i==="."){if(p--,he(t)){n.push(ne(t));continue}return}if(i==="/"){for(;p<t.length&&(t[p]===`
`||t[p]==="	"||t[p]===" ");)p++;let a;if(he(t)&&(a=ne(t),a.type!==l.Hue)){n.push({type:l.Alpha,value:a});continue}if(Le(t)&&be(t)==="none"){n.push({type:l.Alpha,value:{type:l.None,value:void 0}});continue}return}if(/\d/.test(i)){p--,n.push(ne(t));continue}if(Pe.test(i)){p--,n.push(Vn(t));continue}return}return n}function Fn(e){e._i=0;let t=e[e._i++];if(!t||t.type!==l.Function||t.value!=="color"||(t=e[e._i++],t.type!==l.Ident))return;const n=zt[t.value];if(!n)return;const i={mode:n},a=$t(e,!1);if(!a)return;const o=On(n).channels;for(let r=0,f,c;r<o.length;r++)f=a[r],c=o[r],f.type!==l.None&&(i[c]=f.type===l.Number?f.value:f.value/100,c==="alpha"&&(i[c]=Math.max(0,Math.min(1,i[c]))));return i}function $t(e,t){const n=[];let i;for(;e._i<e.length;){if(i=e[e._i++],i.type===l.None||i.type===l.Number||i.type===l.Alpha||i.type===l.Percentage||t&&i.type===l.Hue){n.push(i);continue}if(i.type===l.ParenClose){if(e._i<e.length)return;continue}return}if(!(n.length<3||n.length>4)){if(n.length===4){if(n[3].type!==l.Alpha)return;n[3]=n[3].value}return n.length===3&&n.push({type:l.None,value:void 0}),n.every(a=>a.type!==l.Alpha)?n:void 0}}function Dn(e,t){e._i=0;let n=e[e._i++];if(!n||n.type!==l.Function)return;let i=$t(e,t);if(i)return i.unshift(n.value),i}const jn=e=>{if(typeof e!="string")return;const t=qn(e),n=t?Dn(t,!0):void 0;let i,a=0,o=ce.length;for(;a<o;)if((i=ce[a++](e,n))!==void 0)return i;return t?Fn(t):void 0};function Yn(e,t){if(!t||t[0]!=="rgb"&&t[0]!=="rgba")return;const n={mode:"rgb"},[,i,a,o,r]=t;if(!(i.type===l.Hue||a.type===l.Hue||o.type===l.Hue))return i.type!==l.None&&(n.r=i.type===l.Number?i.value/255:i.value/100),a.type!==l.None&&(n.g=a.type===l.Number?a.value/255:a.value/100),o.type!==l.None&&(n.b=o.type===l.Number?o.value/255:o.value/100),r.type!==l.None&&(n.alpha=Math.min(1,Math.max(0,r.type===l.Number?r.value:r.value/100))),n}const Un=e=>e==="transparent"?{mode:"rgb",r:0,g:0,b:0,alpha:0}:void 0,Zn=(e,t,n)=>e+n*(t-e),Bn=e=>{let t=[];for(let n=0;n<e.length-1;n++){let i=e[n],a=e[n+1];i===void 0&&a===void 0?t.push(void 0):i!==void 0&&a!==void 0?t.push([i,a]):t.push(i!==void 0?[i,i]:[a,a])}return t},d=(e=>t=>{let n=Bn(t);return i=>{let a=i*n.length,o=i>=1?n.length-1:Math.max(Math.floor(a),0),r=n[o];return r===void 0?void 0:e(r[0],r[1],a-o)}})(Zn),$=e=>{let t=!1,n=e.map(i=>i!==void 0?(t=!0,i):1);return t?n:e},W={mode:"rgb",channels:["r","g","b","alpha"],parse:[Yn,ue,Ln,N,Un,"srgb"],serialize:"srgb",interpolate:{r:d,g:d,b:d,alpha:{use:d,fixup:$}},gamut:!0,white:{r:1,g:1,b:1},black:{r:0,g:0,b:0}},Ae=(e=0)=>Math.pow(Math.abs(e),563/256)*Math.sign(e),_t=e=>{let t=Ae(e.r),n=Ae(e.g),i=Ae(e.b),a={mode:"xyz65",x:.5766690429101305*t+.1855582379065463*n+.1882286462349947*i,y:.297344975250536*t+.6273635662554661*n+.0752914584939979*i,z:.0270313613864123*t+.0706888525358272*n+.9913375368376386*i};return e.alpha!==void 0&&(a.alpha=e.alpha),a},Se=e=>Math.pow(Math.abs(e),256/563)*Math.sign(e),Tt=({x:e,y:t,z:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let a={mode:"a98",r:Se(e*2.0415879038107465-t*.5650069742788597-.3447313507783297*n),g:Se(e*-.9692436362808798+t*1.8759675015077206+.0415550574071756*n),b:Se(e*.0134442806320312-t*.1183623922310184+1.0151749943912058*n)};return i!==void 0&&(a.alpha=i),a},Oe=(e=0)=>{const t=Math.abs(e);return t<=.04045?e/12.92:(Math.sign(e)||1)*Math.pow((t+.055)/1.055,2.4)},K=({r:e,g:t,b:n,alpha:i})=>{let a={mode:"lrgb",r:Oe(e),g:Oe(t),b:Oe(n)};return i!==void 0&&(a.alpha=i),a},U=e=>{let{r:t,g:n,b:i,alpha:a}=K(e),o={mode:"xyz65",x:.4123907992659593*t+.357584339383878*n+.1804807884018343*i,y:.2126390058715102*t+.715168678767756*n+.0721923153607337*i,z:.0193308187155918*t+.119194779794626*n+.9505321522496607*i};return a!==void 0&&(o.alpha=a),o},Xe=(e=0)=>{const t=Math.abs(e);return t>.0031308?(Math.sign(e)||1)*(1.055*Math.pow(t,1/2.4)-.055):e*12.92},Q=({r:e,g:t,b:n,alpha:i},a="rgb")=>{let o={mode:a,r:Xe(e),g:Xe(t),b:Xe(n)};return i!==void 0&&(o.alpha=i),o},Z=({x:e,y:t,z:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let a=Q({r:e*3.2409699419045226-t*1.537383177570094-.4986107602930034*n,g:e*-.9692436362808796+t*1.8759675015077204+.0415550574071756*n,b:e*.0556300796969936-t*.2039769588889765+1.0569715142428784*n});return i!==void 0&&(a.alpha=i),a},Jn=A(P({},W),{mode:"a98",parse:["a98-rgb"],serialize:"a98-rgb",fromMode:{rgb:e=>Tt(U(e)),xyz65:Tt},toMode:{rgb:e=>Z(_t(e)),xyz65:_t}}),C=e=>(e=e%360)<0?e+360:e,Gn=(e,t)=>e.map((n,i,a)=>{if(n===void 0)return n;let o=C(n);return i===0||e[i-1]===void 0?o:t(o-C(a[i-1]))}).reduce((n,i)=>!n.length||i===void 0||n[n.length-1]===void 0?(n.push(i),n):(n.push(i+n[n.length-1]),n),[]),V=e=>Gn(e,t=>Math.abs(t)<=180?t:t-360*Math.sign(t)),_=[-.14861,1.78277,-.29227,-.90649,1.97294,0],Wn=Math.PI/180,Kn=180/Math.PI;let It=_[3]*_[4],Nt=_[1]*_[4],Ct=_[1]*_[2]-_[0]*_[3];const Qn=({r:e,g:t,b:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let a=(Ct*n+e*It-t*Nt)/(Ct+It-Nt),o=n-a,r=(_[4]*(t-a)-_[2]*o)/_[3],f={mode:"cubehelix",l:a,s:a===0||a===1?void 0:Math.sqrt(o*o+r*r)/(_[4]*a*(1-a))};return f.s&&(f.h=Math.atan2(r,o)*Kn-120),i!==void 0&&(f.alpha=i),f},e0=({h:e,s:t,l:n,alpha:i})=>{let a={mode:"rgb"};e=(e===void 0?0:e+120)*Wn,n===void 0&&(n=0);let o=t===void 0?0:t*n*(1-n),r=Math.cos(e),f=Math.sin(e);return a.r=n+o*(_[0]*r+_[1]*f),a.g=n+o*(_[2]*r+_[3]*f),a.b=n+o*(_[4]*r+_[5]*f),i!==void 0&&(a.alpha=i),a},ge=(e,t)=>{if(e.h===void 0||t.h===void 0||!e.s||!t.s)return 0;let n=C(e.h),i=C(t.h),a=Math.sin((i-n+360)/2*Math.PI/180);return 2*Math.sqrt(e.s*t.s)*a},t0=(e,t)=>{if(e.h===void 0||t.h===void 0)return 0;let n=C(e.h),i=C(t.h);return Math.abs(i-n)>180?n-(i-360*Math.sign(i-n)):i-n},me=(e,t)=>{if(e.h===void 0||t.h===void 0||!e.c||!t.c)return 0;let n=C(e.h),i=C(t.h),a=Math.sin((i-n+360)/2*Math.PI/180);return 2*Math.sqrt(e.c*t.c)*a},q=e=>{let t=e.reduce((i,a)=>{if(a!==void 0){let o=a*Math.PI/180;i.sin+=Math.sin(o),i.cos+=Math.cos(o)}return i},{sin:0,cos:0}),n=Math.atan2(t.sin,t.cos)*180/Math.PI;return n<0?360+n:n},n0={mode:"cubehelix",channels:["h","s","l","alpha"],parse:["--cubehelix"],serialize:"--cubehelix",ranges:{h:[0,360],s:[0,4.614],l:[0,1]},fromMode:{rgb:Qn},toMode:{rgb:e0},interpolate:{h:{use:d,fixup:V},s:d,l:d,alpha:{use:d,fixup:$}},difference:{h:ge},average:{h:q}},F=({l:e,a:t,b:n,alpha:i},a="lch")=>{t===void 0&&(t=0),n===void 0&&(n=0);let o=Math.sqrt(t*t+n*n),r={mode:a,l:e,c:o};return o&&(r.h=C(Math.atan2(n,t)*180/Math.PI)),i!==void 0&&(r.alpha=i),r},D=({l:e,c:t,h:n,alpha:i},a="lab")=>{n===void 0&&(n=0);let o={mode:a,l:e,a:t?t*Math.cos(n/180*Math.PI):0,b:t?t*Math.sin(n/180*Math.PI):0};return i!==void 0&&(o.alpha=i),o},Rt=Math.pow(29,3)/Math.pow(3,3),Pt=Math.pow(6,3)/Math.pow(29,3),z={X:.3457/.3585,Y:1,Z:(1-.3457-.3585)/.3585},ee={X:.3127/.329,Y:1,Z:(1-.3127-.329)/.329};let He=e=>Math.pow(e,3)>Pt?Math.pow(e,3):(116*e-16)/Rt;const Lt=({l:e,a:t,b:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let a=(e+16)/116,o=t/500+a,r=a-n/200,f={mode:"xyz65",x:He(o)*ee.X,y:He(a)*ee.Y,z:He(r)*ee.Z};return i!==void 0&&(f.alpha=i),f},xe=e=>Z(Lt(e)),Ee=e=>e>Pt?Math.cbrt(e):(Rt*e+16)/116,At=({x:e,y:t,z:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let a=Ee(e/ee.X),o=Ee(t/ee.Y),r=Ee(n/ee.Z),f={mode:"lab65",l:116*o-16,a:500*(a-o),b:200*(o-r)};return i!==void 0&&(f.alpha=i),f},Me=e=>{let t=At(U(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},ye=1,St=1,ae=26/180*Math.PI,ve=Math.cos(ae),ke=Math.sin(ae),Ot=100/Math.log(139/100),Ve=({l:e,c:t,h:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let a={mode:"lab65",l:(Math.exp(e*ye/Ot)-1)/.0039},o=(Math.exp(.0435*t*St*ye)-1)/.075,r=o*Math.cos(n/180*Math.PI-ae),f=o*Math.sin(n/180*Math.PI-ae);return a.a=r*ve-f/.83*ke,a.b=r*ke+f/.83*ve,i!==void 0&&(a.alpha=i),a},qe=({l:e,a:t,b:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let a=t*ve+n*ke,o=.83*(n*ve-t*ke),r=Math.sqrt(a*a+o*o),f={mode:"dlch",l:Ot/ye*Math.log(1+.0039*e),c:Math.log(1+.075*r)/(.0435*St*ye)};return f.c&&(f.h=C((Math.atan2(o,a)+ae)/Math.PI*180)),i!==void 0&&(f.alpha=i),f},Xt=e=>Ve(F(e,"dlch")),Ht=e=>D(qe(e),"dlab"),a0={mode:"dlab",parse:["--din99o-lab"],serialize:"--din99o-lab",toMode:{lab65:Xt,rgb:e=>xe(Xt(e))},fromMode:{lab65:Ht,rgb:e=>Ht(Me(e))},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-40.09,45.501],b:[-40.469,44.344]},interpolate:{l:d,a:d,b:d,alpha:{use:d,fixup:$}}},i0={mode:"dlch",parse:["--din99o-lch"],serialize:"--din99o-lch",toMode:{lab65:Ve,dlab:e=>D(e,"dlab"),rgb:e=>xe(Ve(e))},fromMode:{lab65:qe,dlab:e=>F(e,"dlch"),rgb:e=>qe(Me(e))},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,51.484],h:[0,360]},interpolate:{l:d,c:d,h:{use:d,fixup:V},alpha:{use:d,fixup:$}},difference:{h:me},average:{h:q}};function o0({h:e,s:t,i:n,alpha:i}){e=C(e!==void 0?e:0),t===void 0&&(t=0),n===void 0&&(n=0);let a=Math.abs(e/60%2-1),o;switch(Math.floor(e/60)){case 0:o={r:n*(1+t*(3/(2-a)-1)),g:n*(1+t*(3*(1-a)/(2-a)-1)),b:n*(1-t)};break;case 1:o={r:n*(1+t*(3*(1-a)/(2-a)-1)),g:n*(1+t*(3/(2-a)-1)),b:n*(1-t)};break;case 2:o={r:n*(1-t),g:n*(1+t*(3/(2-a)-1)),b:n*(1+t*(3*(1-a)/(2-a)-1))};break;case 3:o={r:n*(1-t),g:n*(1+t*(3*(1-a)/(2-a)-1)),b:n*(1+t*(3/(2-a)-1))};break;case 4:o={r:n*(1+t*(3*(1-a)/(2-a)-1)),g:n*(1-t),b:n*(1+t*(3/(2-a)-1))};break;case 5:o={r:n*(1+t*(3/(2-a)-1)),g:n*(1-t),b:n*(1+t*(3*(1-a)/(2-a)-1))};break;default:o={r:n*(1-t),g:n*(1-t),b:n*(1-t)}}return o.mode="rgb",i!==void 0&&(o.alpha=i),o}function r0({r:e,g:t,b:n,alpha:i}){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let a=Math.max(e,t,n),o=Math.min(e,t,n),r={mode:"hsi",s:e+t+n===0?0:1-3*o/(e+t+n),i:(e+t+n)/3};return a-o!==0&&(r.h=(a===e?(t-n)/(a-o)+(t<n)*6:a===t?(n-e)/(a-o)+2:(e-t)/(a-o)+4)*60),i!==void 0&&(r.alpha=i),r}const f0={mode:"hsi",toMode:{rgb:o0},parse:["--hsi"],serialize:"--hsi",fromMode:{rgb:r0},channels:["h","s","i","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:d,fixup:V},s:d,i:d,alpha:{use:d,fixup:$}},difference:{h:ge},average:{h:q}};function l0({h:e,s:t,l:n,alpha:i}){e=C(e!==void 0?e:0),t===void 0&&(t=0),n===void 0&&(n=0);let a=n+t*(n<.5?n:1-n),o=a-(a-n)*2*Math.abs(e/60%2-1),r;switch(Math.floor(e/60)){case 0:r={r:a,g:o,b:2*n-a};break;case 1:r={r:o,g:a,b:2*n-a};break;case 2:r={r:2*n-a,g:a,b:o};break;case 3:r={r:2*n-a,g:o,b:a};break;case 4:r={r:o,g:2*n-a,b:a};break;case 5:r={r:a,g:2*n-a,b:o};break;default:r={r:2*n-a,g:2*n-a,b:2*n-a}}return r.mode="rgb",i!==void 0&&(r.alpha=i),r}function d0({r:e,g:t,b:n,alpha:i}){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let a=Math.max(e,t,n),o=Math.min(e,t,n),r={mode:"hsl",s:a===o?0:(a-o)/(1-Math.abs(a+o-1)),l:.5*(a+o)};return a-o!==0&&(r.h=(a===e?(t-n)/(a-o)+(t<n)*6:a===t?(n-e)/(a-o)+2:(e-t)/(a-o)+4)*60),i!==void 0&&(r.alpha=i),r}const s0=(e,t)=>{switch(t){case"deg":return+e;case"rad":return e/Math.PI*180;case"grad":return e/10*9;case"turn":return e*360}},u0=new RegExp(`^hsla?\\(\\s*${E}${O}${j}${O}${j}\\s*(?:,\\s*${Y}\\s*)?\\)$`),c0=e=>{let t=e.match(u0);if(!t)return;let n={mode:"hsl"};return t[3]!==void 0?n.h=+t[3]:t[1]!==void 0&&t[2]!==void 0&&(n.h=s0(t[1],t[2])),t[4]!==void 0&&(n.s=Math.min(Math.max(0,t[4]/100),1)),t[5]!==void 0&&(n.l=Math.min(Math.max(0,t[5]/100),1)),t[6]!==void 0?n.alpha=Math.max(0,Math.min(1,t[6]/100)):t[7]!==void 0&&(n.alpha=Math.max(0,Math.min(1,+t[7]))),n};function h0(e,t){if(!t||t[0]!=="hsl"&&t[0]!=="hsla")return;const n={mode:"hsl"},[,i,a,o,r]=t;if(i.type!==l.None){if(i.type===l.Percentage)return;n.h=i.value}if(a.type!==l.None){if(a.type===l.Hue)return;n.s=a.value/100}if(o.type!==l.None){if(o.type===l.Hue)return;n.l=o.value/100}return r.type!==l.None&&(n.alpha=Math.min(1,Math.max(0,r.type===l.Number?r.value:r.value/100))),n}const Et={mode:"hsl",toMode:{rgb:l0},fromMode:{rgb:d0},channels:["h","s","l","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[h0,c0],serialize:e=>`hsl(${e.h!==void 0?e.h:"none"} ${e.s!==void 0?e.s*100+"%":"none"} ${e.l!==void 0?e.l*100+"%":"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:d,fixup:V},s:d,l:d,alpha:{use:d,fixup:$}},difference:{h:ge},average:{h:q}};function Vt({h:e,s:t,v:n,alpha:i}){e=C(e!==void 0?e:0),t===void 0&&(t=0),n===void 0&&(n=0);let a=Math.abs(e/60%2-1),o;switch(Math.floor(e/60)){case 0:o={r:n,g:n*(1-t*a),b:n*(1-t)};break;case 1:o={r:n*(1-t*a),g:n,b:n*(1-t)};break;case 2:o={r:n*(1-t),g:n,b:n*(1-t*a)};break;case 3:o={r:n*(1-t),g:n*(1-t*a),b:n};break;case 4:o={r:n*(1-t*a),g:n*(1-t),b:n};break;case 5:o={r:n,g:n*(1-t),b:n*(1-t*a)};break;default:o={r:n*(1-t),g:n*(1-t),b:n*(1-t)}}return o.mode="rgb",i!==void 0&&(o.alpha=i),o}function qt({r:e,g:t,b:n,alpha:i}){e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let a=Math.max(e,t,n),o=Math.min(e,t,n),r={mode:"hsv",s:a===0?0:1-o/a,v:a};return a-o!==0&&(r.h=(a===e?(t-n)/(a-o)+(t<n)*6:a===t?(n-e)/(a-o)+2:(e-t)/(a-o)+4)*60),i!==void 0&&(r.alpha=i),r}const Ft={mode:"hsv",toMode:{rgb:Vt},parse:["--hsv"],serialize:"--hsv",fromMode:{rgb:qt},channels:["h","s","v","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:d,fixup:V},s:d,v:d,alpha:{use:d,fixup:$}},difference:{h:ge},average:{h:q}};function p0({h:e,w:t,b:n,alpha:i}){if(t===void 0&&(t=0),n===void 0&&(n=0),t+n>1){let a=t+n;t/=a,n/=a}return Vt({h:e,s:n===1?1:1-t/(1-n),v:1-n,alpha:i})}function b0(e){let t=qt(e);if(t===void 0)return;let n=t.s!==void 0?t.s:0,i=t.v!==void 0?t.v:0,a={mode:"hwb",w:(1-n)*i,b:1-i};return t.h!==void 0&&(a.h=t.h),t.alpha!==void 0&&(a.alpha=t.alpha),a}function g0(e,t){if(!t||t[0]!=="hwb")return;const n={mode:"hwb"},[,i,a,o,r]=t;if(i.type!==l.None){if(i.type===l.Percentage)return;n.h=i.value}if(a.type!==l.None){if(a.type===l.Hue)return;n.w=a.value/100}if(o.type!==l.None){if(o.type===l.Hue)return;n.b=o.value/100}return r.type!==l.None&&(n.alpha=Math.min(1,Math.max(0,r.type===l.Number?r.value:r.value/100))),n}const m0={mode:"hwb",toMode:{rgb:p0},fromMode:{rgb:b0},channels:["h","w","b","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[g0],serialize:e=>`hwb(${e.h!==void 0?e.h:"none"} ${e.w!==void 0?e.w*100+"%":"none"} ${e.b!==void 0?e.b*100+"%":"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:d,fixup:V},w:d,b:d,alpha:{use:d,fixup:$}},difference:{h:t0},average:{h:q}},Dt=203,we=.1593017578125,jt=78.84375,ze=.8359375,$e=18.8515625,_e=18.6875;function Fe(e){if(e<0)return 0;const t=Math.pow(e,1/jt);return 1e4*Math.pow(Math.max(0,t-ze)/($e-_e*t),1/we)}function De(e){if(e<0)return 0;const t=Math.pow(e/1e4,we);return Math.pow((ze+$e*t)/(1+_e*t),jt)}const je=e=>Math.max(e/Dt,0),Yt=({i:e,t,p:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);const a=Fe(e+.008609037037932761*t+.11102962500302593*n),o=Fe(e-.00860903703793275*t-.11102962500302599*n),r=Fe(e+.5600313357106791*t-.32062717498731885*n),f={mode:"xyz65",x:je(2.070152218389422*a-1.3263473389671556*o+.2066510476294051*r),y:je(.3647385209748074*a+.680566024947227*o-.0453045459220346*r),z:je(-.049747207535812*a-.0492609666966138*o+1.1880659249923042*r)};return i!==void 0&&(f.alpha=i),f},Ye=(e=0)=>Math.max(e*Dt,0),Ut=({x:e,y:t,z:n,alpha:i})=>{const a=Ye(e),o=Ye(t),r=Ye(n),f=De(.3592832590121217*a+.6976051147779502*o-.0358915932320289*r),c=De(-.1920808463704995*a+1.1004767970374323*o+.0753748658519118*r),s=De(.0070797844607477*a+.0748396662186366*o+.8433265453898765*r),h=.5*f+.5*c,u=1.61376953125*f-3.323486328125*c+1.709716796875*s,g=4.378173828125*f-4.24560546875*c-.132568359375*s,b={mode:"itp",i:h,t:u,p:g};return i!==void 0&&(b.alpha=i),b},x0={mode:"itp",channels:["i","t","p","alpha"],parse:["--ictcp"],serialize:"--ictcp",toMode:{xyz65:Yt,rgb:e=>Z(Yt(e))},fromMode:{xyz65:Ut,rgb:e=>Ut(U(e))},ranges:{i:[0,.581],t:[-.369,.272],p:[-.164,.331]},interpolate:{i:d,t:d,p:d,alpha:{use:d,fixup:$}}},M0=134.03437499999998,y0=16295499532821565e-27,Ue=e=>{if(e<0)return 0;let t=Math.pow(e/1e4,we);return Math.pow((ze+$e*t)/(1+_e*t),M0)},Ze=(e=0)=>Math.max(e*203,0),Zt=({x:e,y:t,z:n,alpha:i})=>{e=Ze(e),t=Ze(t),n=Ze(n);let a=1.15*e-.15*n,o=.66*t+.34*e,r=Ue(.41478972*a+.579999*o+.014648*n),f=Ue(-.20151*a+1.120649*o+.0531008*n),c=Ue(-.0166008*a+.2648*o+.6684799*n),s=(r+f)/2,h={mode:"jab",j:.44*s/(1-.56*s)-y0,a:3.524*r-4.066708*f+.542708*c,b:.199076*r+1.096799*f-1.295875*c};return i!==void 0&&(h.alpha=i),h},v0=134.03437499999998,Bt=16295499532821565e-27,Be=e=>{if(e<0)return 0;let t=Math.pow(e,1/v0);return 1e4*Math.pow((ze-t)/(_e*t-$e),1/we)},Je=e=>e/203,Jt=({j:e,a:t,b:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let a=(e+Bt)/(.44+.56*(e+Bt)),o=Be(a+.13860504*t+.058047316*n),r=Be(a-.13860504*t-.058047316*n),f=Be(a-.096019242*t-.8118919*n),c={mode:"xyz65",x:Je(1.661373024652174*o-.914523081304348*r+.23136208173913045*f),y:Je(-.3250758611844533*o+1.571847026732543*r-.21825383453227928*f),z:Je(-.090982811*o-.31272829*r+1.5227666*f)};return i!==void 0&&(c.alpha=i),c},Gt=e=>{let t=Zt(U(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},Wt=e=>Z(Jt(e)),k0={mode:"jab",channels:["j","a","b","alpha"],parse:["--jzazbz"],serialize:"--jzazbz",fromMode:{rgb:Gt,xyz65:Zt},toMode:{rgb:Wt,xyz65:Jt},ranges:{j:[0,.222],a:[-.109,.129],b:[-.185,.134]},interpolate:{j:d,a:d,b:d,alpha:{use:d,fixup:$}}},Kt=({j:e,a:t,b:n,alpha:i})=>{t===void 0&&(t=0),n===void 0&&(n=0);let a=Math.sqrt(t*t+n*n),o={mode:"jch",j:e,c:a};return a&&(o.h=C(Math.atan2(n,t)*180/Math.PI)),i!==void 0&&(o.alpha=i),o},Qt=({j:e,c:t,h:n,alpha:i})=>{n===void 0&&(n=0);let a={mode:"jab",j:e,a:t?t*Math.cos(n/180*Math.PI):0,b:t?t*Math.sin(n/180*Math.PI):0};return i!==void 0&&(a.alpha=i),a},w0={mode:"jch",parse:["--jzczhz"],serialize:"--jzczhz",toMode:{jab:Qt,rgb:e=>Wt(Qt(e))},fromMode:{rgb:e=>Kt(Gt(e)),jab:Kt},channels:["j","c","h","alpha"],ranges:{j:[0,.221],c:[0,.19],h:[0,360]},interpolate:{h:{use:d,fixup:V},c:d,j:d,alpha:{use:d,fixup:$}},difference:{h:me},average:{h:q}},Te=Math.pow(29,3)/Math.pow(3,3),Ge=Math.pow(6,3)/Math.pow(29,3);let We=e=>Math.pow(e,3)>Ge?Math.pow(e,3):(116*e-16)/Te;const Ke=({l:e,a:t,b:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let a=(e+16)/116,o=t/500+a,r=a-n/200,f={mode:"xyz50",x:We(o)*z.X,y:We(a)*z.Y,z:We(r)*z.Z};return i!==void 0&&(f.alpha=i),f},ie=({x:e,y:t,z:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let a=Q({r:e*3.1341359569958707-t*1.6173863321612538-.4906619460083532*n,g:e*-.978795502912089+t*1.916254567259524+.03344273116131949*n,b:e*.07195537988411677-t*.2289768264158322+1.405386058324125*n});return i!==void 0&&(a.alpha=i),a},en=e=>ie(Ke(e)),oe=e=>{let{r:t,g:n,b:i,alpha:a}=K(e),o={mode:"xyz50",x:.436065742824811*t+.3851514688337912*n+.14307845442264197*i,y:.22249319175623702*t+.7168870538238823*n+.06061979053616537*i,z:.013923904500943465*t+.09708128566574634*n+.7140993584005155*i};return a!==void 0&&(o.alpha=a),o},Qe=e=>e>Ge?Math.cbrt(e):(Te*e+16)/116,et=({x:e,y:t,z:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let a=Qe(e/z.X),o=Qe(t/z.Y),r=Qe(n/z.Z),f={mode:"lab",l:116*o-16,a:500*(a-o),b:200*(o-r)};return i!==void 0&&(f.alpha=i),f},tn=e=>{let t=et(oe(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t};function z0(e,t){if(!t||t[0]!=="lab")return;const n={mode:"lab"},[,i,a,o,r]=t;if(!(i.type===l.Hue||a.type===l.Hue||o.type===l.Hue))return i.type!==l.None&&(n.l=Math.min(Math.max(0,i.value),100)),a.type!==l.None&&(n.a=a.type===l.Number?a.value:a.value*125/100),o.type!==l.None&&(n.b=o.type===l.Number?o.value:o.value*125/100),r.type!==l.None&&(n.alpha=Math.min(1,Math.max(0,r.type===l.Number?r.value:r.value/100))),n}const tt={mode:"lab",toMode:{xyz50:Ke,rgb:en},fromMode:{xyz50:et,rgb:tn},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-125,125],b:[-125,125]},parse:[z0],serialize:e=>`lab(${e.l!==void 0?e.l:"none"} ${e.a!==void 0?e.a:"none"} ${e.b!==void 0?e.b:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{l:d,a:d,b:d,alpha:{use:d,fixup:$}}},$0=A(P({},tt),{mode:"lab65",parse:["--lab-d65"],serialize:"--lab-d65",toMode:{xyz65:Lt,rgb:xe},fromMode:{xyz65:At,rgb:Me},ranges:{l:[0,100],a:[-125,125],b:[-125,125]}});function _0(e,t){if(!t||t[0]!=="lch")return;const n={mode:"lch"},[,i,a,o,r]=t;if(i.type!==l.None){if(i.type===l.Hue)return;n.l=Math.min(Math.max(0,i.value),100)}if(a.type!==l.None&&(n.c=Math.max(0,a.type===l.Number?a.value:a.value*150/100)),o.type!==l.None){if(o.type===l.Percentage)return;n.h=o.value}return r.type!==l.None&&(n.alpha=Math.min(1,Math.max(0,r.type===l.Number?r.value:r.value/100))),n}const nt={mode:"lch",toMode:{lab:D,rgb:e=>en(D(e))},fromMode:{rgb:e=>F(tn(e)),lab:F},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,150],h:[0,360]},parse:[_0],serialize:e=>`lch(${e.l!==void 0?e.l:"none"} ${e.c!==void 0?e.c:"none"} ${e.h!==void 0?e.h:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:d,fixup:V},c:d,l:d,alpha:{use:d,fixup:$}},difference:{h:me},average:{h:q}},T0=A(P({},nt),{mode:"lch65",parse:["--lch-d65"],serialize:"--lch-d65",toMode:{lab65:e=>D(e,"lab65"),rgb:e=>xe(D(e,"lab65"))},fromMode:{rgb:e=>F(Me(e),"lch65"),lab65:e=>F(e,"lch65")},ranges:{l:[0,100],c:[0,150],h:[0,360]}}),nn=({l:e,u:t,v:n,alpha:i})=>{t===void 0&&(t=0),n===void 0&&(n=0);let a=Math.sqrt(t*t+n*n),o={mode:"lchuv",l:e,c:a};return a&&(o.h=C(Math.atan2(n,t)*180/Math.PI)),i!==void 0&&(o.alpha=i),o},an=({l:e,c:t,h:n,alpha:i})=>{n===void 0&&(n=0);let a={mode:"luv",l:e,u:t?t*Math.cos(n/180*Math.PI):0,v:t?t*Math.sin(n/180*Math.PI):0};return i!==void 0&&(a.alpha=i),a},on=(e,t,n)=>4*e/(e+15*t+3*n),rn=(e,t,n)=>9*t/(e+15*t+3*n),I0=on(z.X,z.Y,z.Z),N0=rn(z.X,z.Y,z.Z),C0=e=>e<=Ge?Te*e:116*Math.cbrt(e)-16,at=({x:e,y:t,z:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let a=C0(t/z.Y),o=on(e,t,n),r=rn(e,t,n);!isFinite(o)||!isFinite(r)?a=o=r=0:(o=13*a*(o-I0),r=13*a*(r-N0));let f={mode:"luv",l:a,u:o,v:r};return i!==void 0&&(f.alpha=i),f},R0=(e,t,n)=>4*e/(e+15*t+3*n),P0=(e,t,n)=>9*t/(e+15*t+3*n),L0=R0(z.X,z.Y,z.Z),A0=P0(z.X,z.Y,z.Z),it=({l:e,u:t,v:n,alpha:i})=>{if(e===void 0&&(e=0),e===0)return{mode:"xyz50",x:0,y:0,z:0};t===void 0&&(t=0),n===void 0&&(n=0);let a=t/(13*e)+L0,o=n/(13*e)+A0,r=z.Y*(e<=8?e/Te:Math.pow((e+16)/116,3)),f=r*(9*a)/(4*o),c=r*(12-3*a-20*o)/(4*o),s={mode:"xyz50",x:f,y:r,z:c};return i!==void 0&&(s.alpha=i),s},S0={mode:"lchuv",toMode:{luv:an,rgb:e=>ie(it(an(e)))},fromMode:{rgb:e=>nn(at(oe(e))),luv:nn},channels:["l","c","h","alpha"],parse:["--lchuv"],serialize:"--lchuv",ranges:{l:[0,100],c:[0,176.956],h:[0,360]},interpolate:{h:{use:d,fixup:V},c:d,l:d,alpha:{use:d,fixup:$}},difference:{h:me},average:{h:q}},O0=A(P({},W),{mode:"lrgb",toMode:{rgb:Q},fromMode:{rgb:K},parse:["srgb-linear"],serialize:"srgb-linear"}),X0={mode:"luv",toMode:{xyz50:it,rgb:e=>ie(it(e))},fromMode:{xyz50:at,rgb:e=>at(oe(e))},channels:["l","u","v","alpha"],parse:["--luv"],serialize:"--luv",ranges:{l:[0,100],u:[-84.936,175.042],v:[-125.882,87.243]},interpolate:{l:d,u:d,v:d,alpha:{use:d,fixup:$}}},fn=({r:e,g:t,b:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let a=Math.cbrt(.412221469470763*e+.5363325372617348*t+.0514459932675022*n),o=Math.cbrt(.2119034958178252*e+.6806995506452344*t+.1073969535369406*n),r=Math.cbrt(.0883024591900564*e+.2817188391361215*t+.6299787016738222*n),f={mode:"oklab",l:.210454268309314*a+.7936177747023054*o-.0040720430116193*r,a:1.9779985324311684*a-2.42859224204858*o+.450593709617411*r,b:.0259040424655478*a+.7827717124575296*o-.8086757549230774*r};return i!==void 0&&(f.alpha=i),f},Ie=e=>{let t=fn(K(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},re=({l:e,a:t,b:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let a=Math.pow(e+.3963377773761749*t+.2158037573099136*n,3),o=Math.pow(e-.1055613458156586*t-.0638541728258133*n,3),r=Math.pow(e-.0894841775298119*t-1.2914855480194092*n,3),f={mode:"lrgb",r:4.076741636075957*a-3.3077115392580616*o+.2309699031821044*r,g:-1.2684379732850317*a+2.6097573492876887*o-.3413193760026573*r,b:-.0041960761386756*a-.7034186179359362*o+1.7076146940746117*r};return i!==void 0&&(f.alpha=i),f},Ne=e=>Q(re(e));function ot(e){const i=1.170873786407767;return .5*(i*e-.206+Math.sqrt((i*e-.206)*(i*e-.206)+4*.03*i*e))}function Ce(e){return(e*e+.206*e)/(1.170873786407767*(e+.03))}function H0(e,t){let n,i,a,o,r,f,c,s;-1.88170328*e-.80936493*t>1?(n=1.19086277,i=1.76576728,a=.59662641,o=.75515197,r=.56771245,f=4.0767416621,c=-3.3077115913,s=.2309699292):1.81444104*e-1.19445276*t>1?(n=.73956515,i=-.45954404,a=.08285427,o=.1254107,r=.14503204,f=-1.2684380046,c=2.6097574011,s=-.3413193965):(n=1.35733652,i=-.00915799,a=-1.1513021,o=-.50559606,r=.00692167,f=-.0041960863,c=-.7034186147,s=1.707614701);let h=n+i*e+a*t+o*e*e+r*e*t,u=.3963377774*e+.2158037573*t,g=-.1055613458*e-.0638541728*t,b=-.0894841775*e-1.291485548*t;{let m=1+h*u,v=1+h*g,M=1+h*b,T=m*m*m,x=v*v*v,w=M*M*M,I=3*u*m*m,k=3*g*v*v,H=3*b*M*M,J=6*u*u*m,fe=6*g*g*v,le=6*b*b*M,te=f*T+c*x+s*w,G=f*I+c*k+s*H,de=f*J+c*fe+s*le;h=h-te*G/(G*G-.5*te*de)}return h}function rt(e,t){let n=H0(e,t),i=re({l:1,a:n*e,b:n*t}),a=Math.cbrt(1/Math.max(i.r,i.g,i.b)),o=a*n;return[a,o]}function E0(e,t,n,i,a,o=null){o||(o=rt(e,t));let r;if((n-a)*o[1]-(o[0]-a)*i<=0)r=o[1]*a/(i*o[0]+o[1]*(a-n));else{r=o[1]*(a-1)/(i*(o[0]-1)+o[1]*(a-n));{let f=n-a,c=i,s=.3963377774*e+.2158037573*t,h=-.1055613458*e-.0638541728*t,u=-.0894841775*e-1.291485548*t,g=f+c*s,b=f+c*h,m=f+c*u;{let v=a*(1-r)+r*n,M=r*i,T=v+M*s,x=v+M*h,w=v+M*u,I=T*T*T,k=x*x*x,H=w*w*w,J=3*g*T*T,fe=3*b*x*x,le=3*m*w*w,te=6*g*g*T,G=6*b*b*x,de=6*m*m*w,wn=4.0767416621*I-3.3077115913*k+.2309699292*H-1,gt=4.0767416621*J-3.3077115913*fe+.2309699292*le,sa=4.0767416621*te-3.3077115913*G+.2309699292*de,zn=gt/(gt*gt-.5*wn*sa),mt=-wn*zn,$n=-1.2684380046*I+2.6097574011*k-.3413193965*H-1,xt=-1.2684380046*J+2.6097574011*fe-.3413193965*le,ua=-1.2684380046*te+2.6097574011*G-.3413193965*de,_n=xt/(xt*xt-.5*$n*ua),Mt=-$n*_n,Tn=-.0041960863*I-.7034186147*k+1.707614701*H-1,yt=-.0041960863*J-.7034186147*fe+1.707614701*le,ca=-.0041960863*te-.7034186147*G+1.707614701*de,In=yt/(yt*yt-.5*Tn*ca),vt=-Tn*In;mt=zn>=0?mt:1e6,Mt=_n>=0?Mt:1e6,vt=In>=0?vt:1e6,r+=Math.min(mt,Math.min(Mt,vt))}}}return r}function ft(e,t,n=null){n||(n=rt(e,t));let i=n[0],a=n[1];return[a/i,a/(1-i)]}function ln(e,t,n){let i=rt(t,n),a=E0(t,n,e,1,e,i),o=ft(t,n,i),r=.11516993+1/(7.4477897+4.1590124*n+t*(-2.19557347+1.75198401*n+t*(-2.13704948-10.02301043*n+t*(-4.24894561+5.38770819*n+4.69891013*t)))),f=.11239642+1/(1.6132032-.68124379*n+t*(.40370612+.90148123*n+t*(-.27087943+.6122399*n+t*(.00299215-.45399568*n-.14661872*t)))),c=a/Math.min(e*o[0],(1-e)*o[1]),s=e*r,h=(1-e)*f,u=.9*c*Math.sqrt(Math.sqrt(1/(1/(s*s*s*s)+1/(h*h*h*h))));return s=e*.4,h=(1-e)*.8,[Math.sqrt(1/(1/(s*s)+1/(h*h))),u,a]}function dn(e){const t=e.l!==void 0?e.l:0,n=e.a!==void 0?e.a:0,i=e.b!==void 0?e.b:0,a={mode:"okhsl",l:ot(t)};e.alpha!==void 0&&(a.alpha=e.alpha);let o=Math.sqrt(n*n+i*i);if(!o)return a.s=0,a;let[r,f,c]=ln(t,n/o,i/o),s;if(o<f){let h=0,u=.8*r,g=1-u/f;s=(o-h)/(u+g*(o-h))*.8}else{let h=f,u=.2*f*f*1.25*1.25/r,g=1-u/(c-f);s=.8+.2*((o-h)/(u+g*(o-h)))}return s&&(a.s=s,a.h=C(Math.atan2(i,n)*180/Math.PI)),a}function sn(e){let t=e.h!==void 0?e.h:0,n=e.s!==void 0?e.s:0,i=e.l!==void 0?e.l:0;const a={mode:"oklab",l:Ce(i)};if(e.alpha!==void 0&&(a.alpha=e.alpha),!n||i===1)return a.a=a.b=0,a;let o=Math.cos(t/180*Math.PI),r=Math.sin(t/180*Math.PI),[f,c,s]=ln(a.l,o,r),h,u,g,b;n<.8?(h=1.25*n,u=0,g=.8*f,b=1-g/c):(h=5*(n-.8),u=c,g=.2*c*c*1.25*1.25/f,b=1-g/(s-c));let m=u+h*g/(1-b*h);return a.a=m*o,a.b=m*r,a}const V0=A(P({},Et),{mode:"okhsl",channels:["h","s","l","alpha"],parse:["--okhsl"],serialize:"--okhsl",fromMode:{oklab:dn,rgb:e=>dn(Ie(e))},toMode:{oklab:sn,rgb:e=>Ne(sn(e))}});function un(e){let t=e.l!==void 0?e.l:0,n=e.a!==void 0?e.a:0,i=e.b!==void 0?e.b:0,a=Math.sqrt(n*n+i*i),o=a?n/a:1,r=a?i/a:1,[f,c]=ft(o,r),s=.5,h=1-s/f,u=c/(a+t*c),g=u*t,b=u*a,m=Ce(g),v=b*m/g,M=re({l:m,a:o*v,b:r*v}),T=Math.cbrt(1/Math.max(M.r,M.g,M.b,0));t=t/T,a=a/T*ot(t)/t,t=ot(t);const x={mode:"okhsv",s:a?(s+c)*b/(c*s+c*h*b):0,v:t?t/g:0};return x.s&&(x.h=C(Math.atan2(i,n)*180/Math.PI)),e.alpha!==void 0&&(x.alpha=e.alpha),x}function cn(e){const t={mode:"oklab"};e.alpha!==void 0&&(t.alpha=e.alpha);const n=e.h!==void 0?e.h:0,i=e.s!==void 0?e.s:0,a=e.v!==void 0?e.v:0,o=Math.cos(n/180*Math.PI),r=Math.sin(n/180*Math.PI),[f,c]=ft(o,r),s=.5,h=1-s/f,u=1-i*s/(s+c-c*h*i),g=i*c*s/(s+c-c*h*i),b=Ce(u),m=g*b/u,v=re({l:b,a:o*m,b:r*m}),M=Math.cbrt(1/Math.max(v.r,v.g,v.b,0)),T=Ce(a*u),x=g*T/u;return t.l=T*M,t.a=x*o*M,t.b=x*r*M,t}const q0=A(P({},Ft),{mode:"okhsv",channels:["h","s","v","alpha"],parse:["--okhsv"],serialize:"--okhsv",fromMode:{oklab:un,rgb:e=>un(Ie(e))},toMode:{oklab:cn,rgb:e=>Ne(cn(e))}});function F0(e,t){if(!t||t[0]!=="oklab")return;const n={mode:"oklab"},[,i,a,o,r]=t;if(!(i.type===l.Hue||a.type===l.Hue||o.type===l.Hue))return i.type!==l.None&&(n.l=Math.min(Math.max(0,i.type===l.Number?i.value:i.value/100),1)),a.type!==l.None&&(n.a=a.type===l.Number?a.value:a.value*.4/100),o.type!==l.None&&(n.b=o.type===l.Number?o.value:o.value*.4/100),r.type!==l.None&&(n.alpha=Math.min(1,Math.max(0,r.type===l.Number?r.value:r.value/100))),n}const D0=A(P({},tt),{mode:"oklab",toMode:{lrgb:re,rgb:Ne},fromMode:{lrgb:fn,rgb:Ie},ranges:{l:[0,1],a:[-.4,.4],b:[-.4,.4]},parse:[F0],serialize:e=>`oklab(${e.l!==void 0?e.l:"none"} ${e.a!==void 0?e.a:"none"} ${e.b!==void 0?e.b:"none"}${e.alpha<1?` / ${e.alpha}`:""})`});function j0(e,t){if(!t||t[0]!=="oklch")return;const n={mode:"oklch"},[,i,a,o,r]=t;if(i.type!==l.None){if(i.type===l.Hue)return;n.l=Math.min(Math.max(0,i.type===l.Number?i.value:i.value/100),1)}if(a.type!==l.None&&(n.c=Math.max(0,a.type===l.Number?a.value:a.value*.4/100)),o.type!==l.None){if(o.type===l.Percentage)return;n.h=o.value}return r.type!==l.None&&(n.alpha=Math.min(1,Math.max(0,r.type===l.Number?r.value:r.value/100))),n}const Y0=A(P({},nt),{mode:"oklch",toMode:{oklab:e=>D(e,"oklab"),rgb:e=>Ne(D(e,"oklab"))},fromMode:{rgb:e=>F(Ie(e),"oklch"),oklab:e=>F(e,"oklch")},parse:[j0],serialize:e=>`oklch(${e.l!==void 0?e.l:"none"} ${e.c!==void 0?e.c:"none"} ${e.h!==void 0?e.h:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,ranges:{l:[0,1],c:[0,.4],h:[0,360]}}),hn=e=>{let{r:t,g:n,b:i,alpha:a}=K(e),o={mode:"xyz65",x:.486570948648216*t+.265667693169093*n+.1982172852343625*i,y:.2289745640697487*t+.6917385218365062*n+.079286914093745*i,z:0*t+.0451133818589026*n+1.043944368900976*i};return a!==void 0&&(o.alpha=a),o},pn=({x:e,y:t,z:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let a=Q({r:e*2.4934969119414263-t*.9313836179191242-.402710784450717*n,g:e*-.8294889695615749+t*1.7626640603183465+.0236246858419436*n,b:e*.0358458302437845-t*.0761723892680418+.9568845240076871*n},"p3");return i!==void 0&&(a.alpha=i),a},U0=A(P({},W),{mode:"p3",parse:["display-p3"],serialize:"display-p3",fromMode:{rgb:e=>pn(U(e)),xyz65:pn},toMode:{rgb:e=>Z(hn(e)),xyz65:hn}}),lt=e=>{let t=Math.abs(e);return t>=1/512?Math.sign(e)*Math.pow(t,1/1.8):16*e},bn=({x:e,y:t,z:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let a={mode:"prophoto",r:lt(e*1.3457868816471585-t*.2555720873797946-.0511018649755453*n),g:lt(e*-.5446307051249019+t*1.5082477428451466+.0205274474364214*n),b:lt(e*0+t*0+1.2119675456389452*n)};return i!==void 0&&(a.alpha=i),a},dt=(e=0)=>{let t=Math.abs(e);return t>=16/512?Math.sign(e)*Math.pow(t,1.8):e/16},gn=e=>{let t=dt(e.r),n=dt(e.g),i=dt(e.b),a={mode:"xyz50",x:.7977666449006423*t+.1351812974005331*n+.0313477341283922*i,y:.2880748288194013*t+.7118352342418731*n+899369387256e-16*i,z:0*t+0*n+.8251046025104602*i};return e.alpha!==void 0&&(a.alpha=e.alpha),a},Z0=A(P({},W),{mode:"prophoto",parse:["prophoto-rgb"],serialize:"prophoto-rgb",fromMode:{xyz50:bn,rgb:e=>bn(oe(e))},toMode:{xyz50:gn,rgb:e=>ie(gn(e))}}),mn=1.09929682680944,B0=.018053968510807,st=e=>{const t=Math.abs(e);return t>B0?(Math.sign(e)||1)*(mn*Math.pow(t,.45)-(mn-1)):4.5*e},xn=({x:e,y:t,z:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);let a={mode:"rec2020",r:st(e*1.7166511879712683-t*.3556707837763925-.2533662813736599*n),g:st(e*-.6666843518324893+t*1.6164812366349395+.0157685458139111*n),b:st(e*.0176398574453108-t*.0427706132578085+.9421031212354739*n)};return i!==void 0&&(a.alpha=i),a},Mn=1.09929682680944,J0=.018053968510807,ut=(e=0)=>{let t=Math.abs(e);return t<J0*4.5?e/4.5:(Math.sign(e)||1)*Math.pow((t+Mn-1)/Mn,1/.45)},yn=e=>{let t=ut(e.r),n=ut(e.g),i=ut(e.b),a={mode:"xyz65",x:.6369580483012911*t+.1446169035862083*n+.1688809751641721*i,y:.262700212011267*t+.6779980715188708*n+.059301716469862*i,z:0*t+.0280726930490874*n+1.0609850577107909*i};return e.alpha!==void 0&&(a.alpha=e.alpha),a},G0=A(P({},W),{mode:"rec2020",fromMode:{xyz65:xn,rgb:e=>xn(U(e))},toMode:{xyz65:yn,rgb:e=>Z(yn(e))},parse:["rec2020"],serialize:"rec2020"}),B=.0037930732552754493,vn=Math.cbrt(B),ct=e=>Math.cbrt(e)-vn,W0=e=>{const{r:t,g:n,b:i,alpha:a}=K(e),o=ct(.3*t+.622*n+.078*i+B),r=ct(.23*t+.692*n+.078*i+B),f=ct(.2434226892454782*t+.2047674442449682*n+.5518098665095535*i+B),c={mode:"xyb",x:(o-r)/2,y:(o+r)/2,b:f-(o+r)/2};return a!==void 0&&(c.alpha=a),c},ht=e=>Math.pow(e+vn,3),K0={mode:"xyb",channels:["x","y","b","alpha"],parse:["--xyb"],serialize:"--xyb",toMode:{rgb:({x:e,y:t,b:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);const a=ht(e+t)-B,o=ht(t-e)-B,r=ht(n+t)-B,f=Q({r:11.031566904639861*a-9.866943908131562*o-.16462299650829934*r,g:-3.2541473810744237*a+4.418770377582723*o-.16462299650829934*r,b:-3.6588512867136815*a+2.7129230459360922*o+1.9459282407775895*r});return i!==void 0&&(f.alpha=i),f}},fromMode:{rgb:W0},ranges:{x:[-.0154,.0281],y:[0,.8453],b:[-.2778,.388]},interpolate:{x:d,y:d,b:d,alpha:{use:d,fixup:$}}},Q0={mode:"xyz50",parse:["xyz-d50"],serialize:"xyz-d50",toMode:{rgb:ie,lab:et},fromMode:{rgb:oe,lab:Ke},channels:["x","y","z","alpha"],ranges:{x:[0,.964],y:[0,.999],z:[0,.825]},interpolate:{x:d,y:d,z:d,alpha:{use:d,fixup:$}}},ea={mode:"xyz65",toMode:{rgb:Z,xyz50:e=>{let{x:t,y:n,z:i,alpha:a}=e;t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=0);let o={mode:"xyz50",x:1.0479298208405488*t+.0229467933410191*n-.0501922295431356*i,y:.0296278156881593*t+.990434484573249*n-.0170738250293851*i,z:-.0092430581525912*t+.0150551448965779*n+.7518742899580008*i};return a!==void 0&&(o.alpha=a),o}},fromMode:{rgb:U,xyz50:e=>{let{x:t,y:n,z:i,alpha:a}=e;t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=0);let o={mode:"xyz65",x:.9554734527042182*t-.0230985368742614*n+.0632593086610217*i,y:-.0283697069632081*t+1.0099954580058226*n+.021041398966943*i,z:.0123140016883199*t-.0205076964334779*n+1.3303659366080753*i};return a!==void 0&&(o.alpha=a),o}},ranges:{x:[0,.95],y:[0,1],z:[0,1.088]},channels:["x","y","z","alpha"],parse:["xyz","xyz-d65"],serialize:"xyz-d65",interpolate:{x:d,y:d,z:d,alpha:{use:d,fixup:$}}},ta={mode:"yiq",toMode:{rgb:({y:e,i:t,q:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);const a={mode:"rgb",r:e+.95608445*t+.6208885*n,g:e-.27137664*t-.6486059*n,b:e-1.10561724*t+1.70250126*n};return i!==void 0&&(a.alpha=i),a}},fromMode:{rgb:({r:e,g:t,b:n,alpha:i})=>{e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0);const a={mode:"yiq",y:.29889531*e+.58662247*t+.11448223*n,i:.59597799*e-.2741761*t-.32180189*n,q:.21147017*e-.52261711*t+.31114694*n};return i!==void 0&&(a.alpha=i),a}},channels:["y","i","q","alpha"],parse:["--yiq"],serialize:"--yiq",ranges:{i:[-.595,.595],q:[-.522,.522]},interpolate:{y:d,i:d,q:d,alpha:{use:d,fixup:$}}},na=e=>Math.max(0,Math.min(1,e||0)),pt=e=>Math.round(na(e)*255),aa=kt("rgb"),ia=e=>{if(e===void 0)return;let t=pt(e.r),n=pt(e.g),i=pt(e.b);return"#"+(1<<24|t<<16|n<<8|i).toString(16).slice(1)},oa=e=>ia(aa(e));y(Jn),y(n0),y(a0),y(i0),y(f0),y(Et),y(Ft),y(m0),y(x0),y(k0),y(w0),y(tt),y($0),y(nt),y(T0),y(S0),y(O0),y(X0),y(V0),y(q0),y(D0),y(Y0),y(U0),y(Z0),y(G0),y(W),y(K0),y(Q0),y(ea),y(ta);function kn(e){return oa({mode:"rgb",r:e.r,g:e.g,b:e.b})||"#000000"}figma.showUI(__html__,{width:525,height:900,themeColors:!0});function ra(){const e=figma.currentPage.selection;if(e.length>0){const t=e[0];if("fills"in t&&Array.isArray(t.fills)&&t.fills.length>0){const n=t.fills[0];if(n.type==="SOLID"){const i=kn(n.color);figma.ui.postMessage({type:"SET_BASE_COLOR",hex:i})}}}}ra(),figma.ui.onmessage=e=>se(null,null,function*(){if(e.type==="CLOSE_PLUGIN")figma.closePlugin();else if(e.type==="NOTIFY")figma.notify(e.message||"Action completed");else if(e.type==="RESIZE_UI")figma.ui.resize(e.width||525,e.height);else if(e.type==="GET_PALETTES")yield bt();else if(e.type==="EXPORT_TO_FIGMA"){const t=e.payload;if(t.action==="update"&&t.paletteId){yield la(t),yield bt(),figma.notify(`Updated ${t.name} variables`);return}const{name:n,swatches:i,createVariables:a=!1,createFrame:o=!0}=t;if(console.log(a?"Debug: createVariables is TRUE":"Debug: createVariables is FALSE or Undefined"),!da(t)){figma.notify("Error: Invalid palette data received");return}yield Promise.all([figma.loadFontAsync({family:"Inter",style:"Medium"}),figma.loadFontAsync({family:"Inter",style:"Bold"}),figma.loadFontAsync({family:"Inter",style:"Regular"})]);let r=null;o&&(r=figma.createFrame(),r.name=n,r.layoutMode="HORIZONTAL",r.paddingLeft=r.paddingRight=40,r.paddingTop=r.paddingBottom=40,r.itemSpacing=12,r.fills=[{type:"SOLID",color:{r:1,g:1,b:1}}],r.cornerRadius=8,r.primaryAxisSizingMode="AUTO",r.counterAxisSizingMode="AUTO",r.counterAxisAlignItems="CENTER");let f=null,c=n;if(a)try{const s="[primitive] colors";console.log("Debug: Fetching collections...");const h=yield figma.variables.getLocalVariableCollectionsAsync();console.log("Debug: Found collections:",h.map(m=>m.name)),f=h.find(m=>m.name===s)||figma.variables.createVariableCollection(s),console.log("Debug: Target collection:",f.id,f.name);const g=(yield figma.variables.getLocalVariablesAsync("COLOR")).filter(m=>m.variableCollectionId===f.id);let b=1;for(;g.some(m=>m.name.startsWith(`${c}/`));)c=`${n} ${b}`,b++}catch(s){console.error("Failed to access variables:",s),figma.notify(`Error creating tokens: ${s.message||s}`,{error:!0})}for(const s of i){const h={r:s.color.r,g:s.color.g,b:s.color.b};if(r){const u=figma.createFrame();u.name=`${s.stop}`,u.layoutMode="VERTICAL",u.itemSpacing=8,u.fills=[],u.counterAxisSizingMode="AUTO",u.primaryAxisSizingMode="AUTO";const g=figma.createFrame();g.name=`${s.stop}`,g.resize(124,96),g.cornerRadius=11,g.fills=[{type:"SOLID",color:h}],u.appendChild(g);const b=figma.createFrame();b.name="details",b.layoutMode="VERTICAL",b.itemSpacing=0,b.fills=[],b.counterAxisSizingMode="AUTO",b.primaryAxisSizingMode="AUTO";const m=figma.createText();m.fontName={family:"Inter",style:"Bold"},m.characters=`${s.stop}`,m.fontSize=16,m.fills=[{type:"SOLID",color:{r:0,g:0,b:0}}],b.appendChild(m);const v=figma.createText();v.fontName={family:"Inter",style:"Regular"},v.characters=s.hex.toUpperCase(),v.fontSize=16,v.fills=[{type:"SOLID",color:{r:0,g:0,b:0}}],b.appendChild(v);const M=figma.createFrame();M.name="contrast",M.layoutMode="HORIZONTAL",M.itemSpacing=4,M.fills=[],M.counterAxisAlignItems="CENTER",M.primaryAxisSizingMode="AUTO",M.counterAxisSizingMode="AUTO";const T=s.contrast,x=s.isPass,w=x?{r:0,g:.53,b:.1}:{r:1,g:0,b:0},I=figma.createText();I.fontName={family:"Inter",style:"Regular"},I.characters=x?"✓":"⚠",I.fontSize=16,I.fills=[{type:"SOLID",color:w}],M.appendChild(I);const k=figma.createText();k.fontName={family:"Inter",style:"Regular"},k.characters=`${T.toFixed(2)}:1`,k.fontSize=16,k.fills=[{type:"SOLID",color:w}],M.appendChild(k),b.appendChild(M),u.appendChild(b),r.appendChild(u)}if(a&&f)try{const u=`${c}/${s.stop}`;figma.variables.createVariable(u,f.id,"COLOR").setValueForMode(f.modes[0].modeId,h)}catch(u){console.error(`Failed to create variable ${s.stop}:`,u),figma.notify(`Failed to create token for ${s.stop}: ${u.message}`,{error:!0})}}if(r){figma.currentPage.appendChild(r);let s=0,h=0;const u=r.width,g=r.height,b=figma.currentPage.selection;if(b.length>0){let x=1/0,w=-1/0;for(const I of b){const k=I.absoluteRenderBounds;if(k){k.x<x&&(x=k.x);const H=k.y+k.height;H>w&&(w=H)}}if(x!==1/0&&w!==-1/0)s=x,h=w+80;else{const I=figma.viewport.center;s=I.x-u/2,h=I.y-g/2}}else{const x=figma.viewport.center;s=x.x-u/2,h=x.y-g/2}const m=figma.currentPage.findAll(x=>x.id!==r.id&&"absoluteRenderBounds"in x&&x.absoluteRenderBounds!==null&&x.visible);let v=!1,M=0;const T=120;for(;!v&&M<50;){let x=!1;const w={x:s,y:h,width:u,height:g};for(const I of m){const k=I.absoluteRenderBounds;if(!k)continue;const H=w.x<k.x+k.width&&w.x+w.width>k.x,J=w.y<k.y+k.height&&w.y+w.height>k.y;if(H&&J){x=!0;break}}x?(h+=T,M++):v=!0}r.x=s,r.y=h,figma.currentPage.selection=[r],figma.viewport.scrollAndZoomIntoView([r])}a?(yield bt(),figma.notify("Variables created successfully!")):o&&figma.notify("Visual palette created successfully!")}});function fa(){return se(this,null,function*(){const e=yield figma.variables.getLocalVariablesAsync("COLOR"),n=(yield figma.variables.getLocalVariableCollectionsAsync()).find(a=>a.name==="[primitive] colors");if(!n)return[];const i={};for(const a of e){if(a.variableCollectionId!==n.id)continue;const o=a.name.split("/");if(o.length>=2){const r=o[0],f=o[o.length-1],c=parseInt(f,10);if(!isNaN(c)){i[r]||(i[r]={hueName:r,stops:[]});const s=figma.variables.getVariableCollectionById(a.variableCollectionId);if(s&&s.modes.length>0){const h=s.modes[0].modeId,u=a.valuesByMode[h];if(u&&typeof u=="object"&&"r"in u){const b=kn(u);i[r].stops.push({stop:c,hex:b,variableId:a.id})}}}}}return Object.values(i).map(a=>{a.stops.sort((r,f)=>r.stop-f.stop);let o=a.stops.find(r=>r.stop===500);return!o&&a.stops.length>0&&(o=a.stops[Math.floor(a.stops.length/2)]),{hueName:a.hueName,previewHex:(o==null?void 0:o.hex)||"#888888",stops:a.stops}})})}function bt(){return se(this,null,function*(){const e=yield fa();figma.ui.postMessage({type:"PALETTES_DATA",palettes:e})})}function la(e){return se(this,null,function*(){const{paletteId:t,swatches:n}=e;if(t)try{const i="[primitive] colors";let o=(yield figma.variables.getLocalVariableCollectionsAsync()).find(u=>u.name===i);o||(o=figma.variables.createVariableCollection(i));const r=o.id,f=o.modes[0].modeId,s=(yield figma.variables.getLocalVariablesAsync("COLOR")).filter(u=>u.variableCollectionId===r&&u.name.startsWith(t+"/"));for(const u of n){const g=`${t}/${u.stop}`,b=s.find(v=>v.name===g),m={r:u.color.r,g:u.color.g,b:u.color.b};b?b.setValueForMode(f,m):figma.variables.createVariable(g,r,"COLOR").setValueForMode(f,m)}const h=n.map(u=>`${t}/${u.stop}`);for(const u of s)h.includes(u.name)||u.remove()}catch(i){throw console.error("Failed to update variables:",i),figma.notify(`Error updating tokens: ${i.message||i}`,{error:!0}),i}})}function da(e){return e&&typeof e=="object"&&Array.isArray(e.swatches)&&typeof e.name=="string"&&(typeof e.createVariables=="boolean"||e.createVariables===void 0)}})();
